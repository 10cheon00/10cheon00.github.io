{"componentChunkName":"component---src-templates-blog-post-js","path":"/computer-organization/컴퓨터-구조론-(3)-데이터패스-(1)/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"62985317-10f5-5de8-93ff-fc2bb4dd0b05","excerpt":"2023년 2학기 컴퓨터 구조론 수업을 듣고 정리한 내용입니다. 수업 교재는 컴퓨터 구조 및 설계 RISC-V 2판입니다. 흐름 CPU가 명령어를 해독하고 실행하는 과정을 간략하게 나타내면 이렇다. 명령어를 메모리에서 인출해온다. 프로그램 카운터(PC…","html":"<blockquote>\n<p>2023년 2학기 컴퓨터 구조론 수업을 듣고 정리한 내용입니다. 수업 교재는 <a href=\"https://product.kyobobook.co.kr/detail/S000060622658\">컴퓨터 구조 및 설계 RISC-V 2판</a>입니다.</p>\n</blockquote>\n<h1 id=\"흐름\" style=\"position:relative;\"><a href=\"#%ED%9D%90%EB%A6%84\" aria-label=\"흐름 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>흐름</h1>\n<p>CPU가 명령어를 해독하고 실행하는 과정을 간략하게 나타내면 이렇다.</p>\n<ol>\n<li>명령어를 메모리에서 인출해온다.</li>\n</ol>\n<p>프로그램 카운터(PC)에 저장된 주소값으로 명령어 메모리에 접근하여 명령어를 갖고 온다.</p>\n<p>명령어를 인출한 후에는 PC값을 다음 명령어의 주소로 바꾸기 위해 4만큼 더한다.</p>\n<ol start=\"2\">\n<li>명령어를 해독한 후 레지스터에서 필요한 값을 갖고 온다.</li>\n<li>명령어에 의해 연산을 실행한다.</li>\n</ol>\n<blockquote>\n<p>모든 처리가 한 클럭안에 끝난다고 가정한 후 단일 데이터 패스를 설명합니다.</p>\n</blockquote>\n<h1 id=\"명령어-인출\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9D%B8%EC%B6%9C\" aria-label=\"명령어 인출 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>명령어 인출</h1>\n<p>하버드 아키텍쳐에 의해 데이터 메모리와 명령어 메모리가 분리되어, 명령어는 오직 명령어 메모리에서만 인출할 수 있다. 인출하고자 하는 명령어는 프로그램 카운터(PC)값을 주소로 사용하여 인출하게 된다.</p>\n<p>현재 PC값을 주소로 사용하여 Instruction Memory(명령어 메모리)에 접근, 명령어를 인출한다. 명령어를 인출한 후에는 PC값을 다음 명령어의 주소값으로 설정하기 위해 4만큼 더한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 517px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2c3af30f5e09ecca0efe27686024d7e7/fa2f5/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.74683544303798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVR42oWTSY+CQBCF+f8/isQEEw9evEiMS+SAoLgviLLU5KukHIYBrKTS1U336/deF04YhnI4HGS/32tSH4/Hr8neJEm0ZuRcFEXiUBBVVemY5/nXLIpCzuezJnOL0+n0C0jc73fZ7Xa6kY99GQSBvF4vud1ucr1e2wEvl4s8Ho8/jLsiTVN5Pp9aG9NWQFgaYFcS7/db/fN9XxaLhXqIlw6LXYB9gZIsyz7nkE84eAYIXvByTYb1QCJ7kLZer5Ul++2MAsZxrOh4ADiHLGHBRXYI85FGDSi1MfsAchO9CBgvt9lsdJxMJuoJQZuUZamMudgYsd60x9lutzKbzWS1WikYOZ/PZTgcyng8Vn/qhwDp89mBMvIYzWTagDmtUW9cA8SGrlBAAGACINKaDLBgOp2qkuVyKfhO4uM/yfa78WIEgDBgEzVpKrgQ1r2S22jjp+d56uFgMNB5XXK9Tb4Cwgj5gLmuK6PRSOrNj5peD5sLyIABPWiJTEu+2T/cBvgDUfjXu40qFL8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/2c3af30f5e09ecca0efe27686024d7e7/fa2f5/image-1.png\"\n        srcset=\"/static/2c3af30f5e09ecca0efe27686024d7e7/c26ae/image-1.png 158w,\n/static/2c3af30f5e09ecca0efe27686024d7e7/6bdcf/image-1.png 315w,\n/static/2c3af30f5e09ecca0efe27686024d7e7/fa2f5/image-1.png 517w\"\n        sizes=\"(max-width: 517px) 100vw, 517px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>인출된 명령어는 명령어 구조에 따라 해독되어 레지스터와 컨트롤 유닛에게 전달된다.</p>\n<h1 id=\"명령어-해독\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%ED%95%B4%EB%8F%85\" aria-label=\"명령어 해독 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>명령어 해독</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b68663c7b2250a28af61c0582319da54/0012b/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.924050632911392%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVR42jXISw6CMBAAUO5/MlzQ4EKMEGkylPnQMrVuLRkjiW/5GkQCACJWVWFmkfQnIgCwnEp5xRj3fSdCRAwhqOZmGAbnHItk1ftwm71X1Xl+zt6LiOu6a39dlsBM0zTmnMfxcWnbvu9T2ptSCuJaaz2Oirgys5nFuIX1l5uIbNHMUkoA8DkRUSlvM/sCyDCi/m1iXxcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/b68663c7b2250a28af61c0582319da54/f058b/image-2.png\"\n        srcset=\"/static/b68663c7b2250a28af61c0582319da54/c26ae/image-2.png 158w,\n/static/b68663c7b2250a28af61c0582319da54/6bdcf/image-2.png 315w,\n/static/b68663c7b2250a28af61c0582319da54/f058b/image-2.png 630w,\n/static/b68663c7b2250a28af61c0582319da54/0012b/image-2.png 661w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>명령어 구조에 의해 해독된 값은 레지스터와 컨트롤 유닛에게 전달된다. 위 사진에서 rs1, rs2, rd값은 레지스터에게 전달되고 opcode값은 컨트롤 유닛에게 전달된다.</p>\n<p>컨트롤 유닛은 opcode값을 논리회로에 의해 해독하여 각 element들을 제어하는 신호를 만든다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 370px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d09a4b7dd57e4a42a87eac86f6dc159c/1efb2/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABzUlEQVR42o2Sa2sTQRSG8/9/hIgflIBoixhFExXx1iZkE5oQKbVtbrvJJmZ3ZjeZy14e2c2lUFrbd3hhmA/POe+ZU+EeKaVKF8rL8zhV/gfUSpHk4G00M6VJ84exFa01t22MQQhRAhfaYrKMOElZakuS5SU42/lRQG1MCTVpiq/MNnael53+WMQ0PMlnL6QfbrBZjrApcuc7I+/rFl0JkxzefWV5N5UcjwWvx4LjSUjdk1yvEzyV4KqESqvVotfr0el0GAwGOI6D0+lwcX5OlEFk7QEY2oRvvqThBvz0JbVpyJtJwHSt2aQpUdFhs9ksIQW42+3Sbre3BdptTs76fPVj6vOI+kzyZV44pOYGvHdDPvmSX8uYvlB4xuIqs53hIWqeH0yes9xo5soSmARhE0ZrTXUkqA4jnl4GvBgKetJwJgxOaOgLQ6UY/m1Yvvu9YshFjL0WylIdCp5c/uX51aqEPrta4YSK35Hm5SS+Ad4lk2Y3vwxM14qThaQxF7x1g/IeGFsWCo3lg/cAsIAUq1Lsm80yriPFR0/yahxwNA45moScLmJmG8t8Y6m56/uB+9WJbMJMGUax4k+kuIg03/0YZxUjk7Rcrb1OV5p/iiiWEAo4+TUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/d09a4b7dd57e4a42a87eac86f6dc159c/1efb2/image-3.png\"\n        srcset=\"/static/d09a4b7dd57e4a42a87eac86f6dc159c/c26ae/image-3.png 158w,\n/static/d09a4b7dd57e4a42a87eac86f6dc159c/6bdcf/image-3.png 315w,\n/static/d09a4b7dd57e4a42a87eac86f6dc159c/1efb2/image-3.png 370w\"\n        sizes=\"(max-width: 370px) 100vw, 370px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<table>\n<thead>\n<tr>\n<th>신호</th>\n<th>0일때</th>\n<th>1일때</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Branch(PCSrc)</td>\n<td>-</td>\n<td>분기할 명령어의 주소를 다음 PC값으로 설정</td>\n</tr>\n<tr>\n<td>MemRead</td>\n<td>-</td>\n<td>전달된 메모리 주소에 값을 저장</td>\n</tr>\n<tr>\n<td>MemToReg</td>\n<td>ALU연산 결과를 레지스터에 전달</td>\n<td>메모리에서 읽어온 값을 레지스터에 전달</td>\n</tr>\n<tr>\n<td>MemWrite</td>\n<td>-</td>\n<td>메모리에 값을 저장</td>\n</tr>\n<tr>\n<td>ALUSrc</td>\n<td>레지스터에서 읽어온 값을 ALU에 전달</td>\n<td>32비트로 확장한 상수값을 ALU에 전달</td>\n</tr>\n<tr>\n<td>RegWrite</td>\n<td>-</td>\n<td>레지스터에 값을 저장</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">ALUOp(ALUOperation)</code>은 멀티플렉서를 제어하는 신호가 아니라 ALU가 어떤 연산을 할지 결정하는 신호다.</p>\n<table>\n<thead>\n<tr>\n<th>ALUOperation</th>\n<th>행동</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0000</td>\n<td>AND</td>\n</tr>\n<tr>\n<td>0001</td>\n<td>OR</td>\n</tr>\n<tr>\n<td>0010</td>\n<td>add</td>\n</tr>\n<tr>\n<td>0110</td>\n<td>subtract</td>\n</tr>\n</tbody>\n</table>\n<p>레지스터는 rs1, rs2값을 인덱스로 사용하여 저장되어있는 데이터를 읽어온다. rd값은 <code class=\"language-text\">add</code>같은 연산 명령어 또는 <code class=\"language-text\">lw</code>같은 읽기 명령어를 실행한 후 데이터를 저장하기 위한 인덱스로 사용된다.</p>\n<h1 id=\"명령어-실행\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89\" aria-label=\"명령어 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>명령어 실행</h1>\n<p>레지스터에 저장된 값을 읽어온 후 컨트롤 유닛이 생성한 제어 신호를 통해 명령어가 원하는 행동을 수행한다.</p>\n<blockquote>\n<p>수업 시간에는 대표적인 명령어들만 살펴보았다.</p>\n</blockquote>\n<h2 id=\"연산-명령어\" style=\"position:relative;\"><a href=\"#%EC%97%B0%EC%82%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"연산 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>연산 명령어</h2>\n<p>연산 명령어는 두 레지스터에 저장된 값을 더하거나, 한 레지스터에 저장된 값에 임의의 상수값을 더한다.</p>\n<p>두 레지스터에 저장된 값은 <em>rs1과 rs2의 레지스터값</em>이 그대로 ALU에 전달되지만 임의의 상수값을 더할 때에는 <em>rs1의 레지스터값</em>과 <em>임의의 상수값</em>이 전달된다. ALU는 항상 32비트 혹은 64비트 단위로 연산을 진행하기 때문에, 명령어에 들어있는 <strong>상수값을 32비트 또는 64비트로 부호확장</strong>해야한다.</p>\n<blockquote>\n<p>부호확장은 단순히 임의의 상수값의 MSB를 32비트 또는 64비트까지 복사하여 길이를 늘리는 것이다.</p>\n</blockquote>\n<p>따라서 rs1은 그대로 ALU에 전달되고, rs1과 같이 연산할 값은 두 개의 입력중 한 가지를 선택하여야 하므로 <strong>멀티플렉서</strong>를 사용하게 된다. 이 때 멀티플렉서를 제어하는 신호는 앞서 컨트롤 유닛에서 정의한 <code class=\"language-text\">ALUSrc</code>다.</p>\n<p>또한 레지스터에 쓰기 작업을 한다고 신호를 주어야 한다. 컨트롤 유닛이 정의한 <code class=\"language-text\">RegWrite</code>를 사용한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/65456b44f3ef304084fd1c5daef4d66d/20982/image-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7CAAAOwgEVKEqAAAABt0lEQVR42o2TC6+iQAyF+f//zMSsm1yDGt/IigICM8DwGjib090xu8Z7c5s049D69bQFD39tmiYopbDdbjGbzZBlGay1GIZBvKoqyXE2WotH0yM0A0LTY6M7BHUPzyX0fY80TRHHMc7ns8BphC2XS+x2O1SlRqkU8jzH/X5HpGtkVYV+sOjHEXaa4LFyWZYC2+/3uFwu2Gw2qOv6CbzdbqK4GkboYURn7TNu6hrH4xFt28rdOxwO8H1fPIoiPB4PrNdrLBYLUXYOAhhjkKQprlWDXaqgmg5t04iA6/WKMAylIEfybJkVCQ+CQEBMYFU+n8/nUmSyFrdfF6x8H1prAbB9xthFURTw3KCpwrV2j2O0XfdcFpfDOK0oFFarleR2XSfPORbmcO6ikBcm0Nn6x8/Fn02OowB5UikVMId/dBBn/wEZ5OwaU0PVBj+iDH6qEZcGRZ4LiO3zdAVe7S3Qba4cJpgRqJpWXie2xpPAz+wtkIOW6hOQJrHMk0viO8dW+dvN9Usgq/NCIFUorZEkiYC4gNPpJAW/rZBAwl6rs1WqZ5z+lX06Q345/zqV8ityd+a8cwoi8DeZeefouM7aAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/65456b44f3ef304084fd1c5daef4d66d/f058b/image-4.png\"\n        srcset=\"/static/65456b44f3ef304084fd1c5daef4d66d/c26ae/image-4.png 158w,\n/static/65456b44f3ef304084fd1c5daef4d66d/6bdcf/image-4.png 315w,\n/static/65456b44f3ef304084fd1c5daef4d66d/f058b/image-4.png 630w,\n/static/65456b44f3ef304084fd1c5daef4d66d/20982/image-4.png 778w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"쓰기읽기-명령어\" style=\"position:relative;\"><a href=\"#%EC%93%B0%EA%B8%B0%EC%9D%BD%EA%B8%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"쓰기읽기 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>쓰기/읽기 명령어</h2>\n<p>쓰기/읽기 명령어는 <code class=\"language-text\">lw</code>명령어와 <code class=\"language-text\">sw</code>명령어처럼 데이터 메모리에 레지스터의 값을 저장하거나, 데이터 메모리에 저장된 값을 레지스터에 저장하는 과정을 수행한다.</p>\n<h3 id=\"lw\" style=\"position:relative;\"><a href=\"#lw\" aria-label=\"lw permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>lw</h3>\n<p>쓰기 명령어는 레지스터에 저장된 값을 <em>데이터 메모리의 주소</em>로 사용하고, 그 주소를 기준으로 <strong>임의의 상수값만큼 떨어진 위치에 있는 데이터</strong>를 불러와 레지스터에 저장한다.</p>\n<blockquote>\n<p>예) lw x10, 8(x9) = x9가 가진 주소에서 8만큼 떨어진 주소에 있는 데이터를 x10에 저장한다.</p>\n</blockquote>\n<p>먼저 임의의 상수값과 rs1을 더하여 읽어올 메모리의 주소를 연산한다. 연산 결과는 데이터 메모리의 주소가 되고, 그 값을 이용해 메모리에 접근하여 레지스터로 데이터를 인출해온다.</p>\n<h3 id=\"sw\" style=\"position:relative;\"><a href=\"#sw\" aria-label=\"sw permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>sw</h3>\n<p>읽기 명령어는 저장 명령어와 비슷하게 레지스터에 저장된 값을 <em>데이터 메모리의 주소</em>로 사용하고, 그 주소를 기준으로 <strong>임의의 상수값만큼 떨어진 위치에 있는 데이터</strong>에 레지스터에 들어있는 값을 저장한다.</p>\n<blockquote>\n<p>예) sw x12, 12(x11) = x12에 있는 데이터를 x11로부터 12만큼 떨어진 주소에 저장한다.</p>\n</blockquote>\n<p>두 종류의 명령어 모두 연산 결과를 데이터 메모리의 주소로 사용한다.</p>\n<p>연산 명령어는 <em>ALU의 연산결과</em>를, 읽기 명령어는 <em>데이터 메모리에 저장된 값</em>을 레지스터에 전달하기 때문에 여기서도 <strong>멀티플렉서</strong>를 사용하여 두 입력을 제어한다. 이 때 멀티플렉서를 제어하는 신호는 컨트롤 유닛이 정의한 <code class=\"language-text\">MemToReg</code>다. 이 값이 0일 때에는 연산 결과를, 1일 때에는 데이터 메모리에서 출력된 값을 레지스터에 전달하게 된다.</p>\n<p>또한 읽기 명령어는 데이터 메모리에게 읽는다는 신호를 줘야한다. 쓰기 명령어 또한 데이터 메모리에게 쓴다는 신호를 줘야한다. 두 신호 또한 컨트롤 유닛이 정의한 <code class=\"language-text\">MemRead</code>, <code class=\"language-text\">MemWrite</code> 신호로 제어하게 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/688697eecaa2d0f885c64a98fe8eb0d6/38a65/image-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABbElEQVR42o2R29KbMAyEef8XzJ+EwRxMoMbYxtjyGXWAtLftd6MbrWZXWx0XAEAI4ZynlLz3xphSCiKWUoSPIpaPS5APRDwQyzlPKkRMKUkp67qepgkR53lu29Y7cGCFlJuPUu8QU8r5vtWZsIbsy1FRSp/PJ6W06zpCiBAihGABOrmtELxzUspxpHxZ9LaBc1rrX3ztNUwuVjFGrfWyLG3Xvd7vZVmGYXg8Hlyqumn0RdM0fd8zxrZtY4xROrDpI4U4beecOectIdbsdxhjjFjXoe+VUqWUGOO+7ymlexkAur4fKP2KV85fXU+40s5754wx4zhu22atBQBrLWNsHEdr7fPn5/16AYAx5o945fFAFbO25673Xmt9HEe+SCkJIeq6ZowxIcn4gRAcQHX3Mc8zWKukoHRo23aaJs75WczxrSVfr845cfDd7mwqYG31N2TOGRHd5TmEgP/iaxsR9303xtxKpZT9D5RSvwGb7DmcIAzDbgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/688697eecaa2d0f885c64a98fe8eb0d6/f058b/image-5.png\"\n        srcset=\"/static/688697eecaa2d0f885c64a98fe8eb0d6/c26ae/image-5.png 158w,\n/static/688697eecaa2d0f885c64a98fe8eb0d6/6bdcf/image-5.png 315w,\n/static/688697eecaa2d0f885c64a98fe8eb0d6/f058b/image-5.png 630w,\n/static/688697eecaa2d0f885c64a98fe8eb0d6/40601/image-5.png 945w,\n/static/688697eecaa2d0f885c64a98fe8eb0d6/38a65/image-5.png 1075w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"분기-명령어\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EA%B8%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"분기 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>분기 명령어</h2>\n<p>분기 명령어는 두 레지스터에 저장된 값을 비교한 후, <strong>현재 PC값에 임의의 상수값을 변위로 사용하여 분기할 명령어 메모리의 주소를 연산</strong>한다. 두 레지스터에 저장된 값이 같다면 분기를 해야하므로 앞서 연산한 주소값을 다음 PC값으로 설정한다.</p>\n<p>분기할 명령어의 주소를 계산할 때에는 <code class=\"language-text\">상수값 &lt;&lt; 1</code>을 한 후 현재 PC값에 더한다.</p>\n<p>두 레지스터가 같다면 ALU에서 <code class=\"language-text\">Zero</code>가 1로 출력된다. 이 값은 컨트롤 유닛이 정의한 <code class=\"language-text\">Branch</code> 신호와 AND연산으로 <code class=\"language-text\">PCSrc</code> 신호를 만들어 낸다. <code class=\"language-text\">PCSrc</code>신호는 <strong>현재 명령어의 주소+4</strong> 또는 <strong>분기할 명령어의 주소</strong>를 입력으로 하는 <strong>멀티플렉서</strong>를 제어하게 된다.</p>\n<blockquote>\n<p>bep 명령어만 살펴보았기 때문에 bne나 다른 명령어는 별도의 로직이 필요하다고 생각됩니다.</p>\n</blockquote>\n<h1 id=\"전체-데이터-패스\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4\" aria-label=\"전체 데이터 패스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>전체 데이터 패스</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2dbfbfaaadc03cb6b2a82b02fc9c8598/ad997/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVR42mWT6ZKCMBCEef93W/eX5YIKrsp9hfumt3o0lK6pmiIk4ZuezmA0TYOiKJCmKaqqAt8ZnJdlKcE5o67rx7Oq8JvkcPNC5q/DGMcRGspYlgXTNAmo73u0bbsBlVLbelE38KMYeZ6/A7uuA6E85LrupoTrHBo4DIMAuUdo17ZwbFtEcKzr+gDyID/mBqH/BwFUrEFRFIk9SZJIIlb0ppCSCdNKWL7+mMF9lef4/vrCxXEwjyOmYRBFW1DhMwyWeb/fpRwNPZ/PyLJMlBOeZBnCukXV90i7EWpckA8TWOX6Ui408Hg8in8s+XK5wHEcUT1Ok8x934ebKURZjriskVU12nHCNC8I2wF+M6CcFnTzAoMQ3SZBEMA0Tdi2jcPhIO8s2fc81E/19+sVtn1GGASSNElTXF0Xl6xE0o0wKDMMQ+x2u02pZZoCY7k/zwSWZYkN9JWqeU68LkqEgY9fx0aWpg8gveIBqrndbjidTlI+nWFLUTWtkHbpOgne9jzPMs+VEgGpBurBj6mWvrhVh6JiP7bSIrwwthgTURmTBL6P/X4vlXGP1n0AmYmZ6Q1v3/M8Wft/zgpinBIlf0yhlCj9ABJEn5iNKgiK4/ij4dnMBPRPxWLPusqlvQG5SBCBDP0P67/pNfQZHVwj8A9MdzJIBjYXWgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/2dbfbfaaadc03cb6b2a82b02fc9c8598/f058b/image.png\"\n        srcset=\"/static/2dbfbfaaadc03cb6b2a82b02fc9c8598/c26ae/image.png 158w,\n/static/2dbfbfaaadc03cb6b2a82b02fc9c8598/6bdcf/image.png 315w,\n/static/2dbfbfaaadc03cb6b2a82b02fc9c8598/f058b/image.png 630w,\n/static/2dbfbfaaadc03cb6b2a82b02fc9c8598/40601/image.png 945w,\n/static/2dbfbfaaadc03cb6b2a82b02fc9c8598/ad997/image.png 1012w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 데이터 패스는 전체 element를 거쳐 명령어를 처리하는 과정이 단 한 클럭 안에 진행된다는 가정으로 세워졌다. 그래서 <strong>클럭 사이클 타임은 가장 오래 걸리는 명령어의 실행시간</strong>이 된다. 따라서 한 클럭이 매우 길 수밖에 없다. 게다가 단계가 많아질수록 더욱 길어진다. 이 문제를 해결하기 위해 각 단계를 병렬적으로 실행하는 <strong>파이프라인 데이터 패스</strong>가 등장했다.</p>","frontmatter":{"title":"컴퓨터 구조론 (3) - 데이터 패스 (1)","date":"January 02, 2024","description":null,"tags":["computer-organization"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%9D%90%EB%A6%84\">흐름</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%9D%B8%EC%B6%9C\">명령어 인출</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%ED%95%B4%EB%8F%85\">명령어 해독</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89\">명령어 실행</a></p>\n<ul>\n<li>\n<p><a href=\"#%EC%97%B0%EC%82%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\">연산 명령어</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%93%B0%EA%B8%B0%EC%9D%BD%EA%B8%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\">쓰기/읽기 명령어</a></p>\n<ul>\n<li><a href=\"#lw\">lw</a></li>\n<li><a href=\"#sw\">sw</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B6%84%EA%B8%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\">분기 명령어</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%84%EC%B2%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4\">전체 데이터 패스</a></p>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/computer-network/보안/"},"frontmatter":{"title":"보안"}},"next":null},"pageContext":{"id":"62985317-10f5-5de8-93ff-fc2bb4dd0b05","previousPostId":"2ce925c6-7c71-5b10-8fdd-967f8172cfc1","nextPostId":null}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}