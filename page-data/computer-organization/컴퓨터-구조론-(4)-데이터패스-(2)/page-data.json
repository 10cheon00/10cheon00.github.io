{"componentChunkName":"component---src-templates-blog-post-js","path":"/computer-organization/컴퓨터-구조론-(4)-데이터패스-(2)/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"1edba345-c60c-597f-8ad4-b0d576d0cb47","excerpt":"2023년 2학기 컴퓨터 구조론 수업을 듣고 정리한 내용입니다. 수업 교재는 컴퓨터 구조 및 설계 RISC-V 2판입니다. 단일 사이클 데이터 패스의 문제 element가 많아질수록 클럭 사이클 시간이 길어진다. 따라서 명령어를 처리하는 시간이 굉장히 길어지기 때문에 CPU…","html":"<blockquote>\n<p>2023년 2학기 컴퓨터 구조론 수업을 듣고 정리한 내용입니다. 수업 교재는 <a href=\"https://product.kyobobook.co.kr/detail/S000060622658\">컴퓨터 구조 및 설계 RISC-V 2판</a>입니다.</p>\n</blockquote>\n<h1 id=\"단일-사이클-데이터-패스의-문제\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%9D%BC-%EC%82%AC%EC%9D%B4%ED%81%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4%EC%9D%98-%EB%AC%B8%EC%A0%9C\" aria-label=\"단일 사이클 데이터 패스의 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>단일 사이클 데이터 패스의 문제</h1>\n<p>element가 많아질수록 클럭 사이클 시간이 길어진다. 따라서 명령어를 처리하는 시간이 굉장히 길어지기 때문에 CPU의 성능이 저하된다.</p>\n<p>이 문제를 해결하기 위해 각 element를 단계로 분할하여 병렬적으로 실행하는 파이프라인 데이터 패스가 등장했다.</p>\n<h1 id=\"파이프라인-데이터-패스\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4\" aria-label=\"파이프라인 데이터 패스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>파이프라인 데이터 패스</h1>\n<p>앞서 살펴봤던 단일 사이클 데이터 패스는 총 5단계로 구성되어 있다.</p>\n<ol>\n<li>IF : 명령어 인출</li>\n<li>ID : 명령어 해독 및 레지스터 인출</li>\n<li>EX : ALU 연산</li>\n<li>MEM : 데이터 메모리 접근</li>\n<li>WB : 레지스터에 쓰기</li>\n</ol>\n<p>파이프라인 데이터 패스는 각 단계 사이마다 <strong>버퍼 레지스터</strong>를 둔다. 버퍼는 명령어가 실행되기 위한 정보를 담는다. 각 단계는 버퍼에 담긴 데이터를 통해 명령어를 처리한다.</p>\n<p>이전 단계가 명령어를 처리하고 나면 다음 단계를 위해 버퍼에 처리 결과를 저장한다. 다음 단계는 이전 단계가 처리한 결과에 의해 명령어를 처리한다. 결과적으로 각 단계는 매 클럭마다 <strong>버퍼를 통해 독립적으로 명령어를 처리할 수 있으므로</strong> 한 클럭에 여러 개의 명령어를 처리하게 된다. 이렇게 된다면 단일 사이클 데이터 패스보다 더 좋은 CPU 성능을 만들어 낸다.</p>\n<h1 id=\"전체-데이터-패스\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4\" aria-label=\"전체 데이터 패스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>전체 데이터 패스</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/517a93b6a5327129f00d74bcec2c057b/541fe/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABt0lEQVR42lWS647aMBBGef+X6m63iK60VdUfrXah3AMBHGzHzs2XcFobpKojRR478vHM983kfD7T9z1d1+WvaSzX2qJswxgjIQSc8xwrhQ+BGCPOOXanC8ZaUqTzYyVzPlFK5STBtK7pG8uvc837xULw+bJte6Y7jfOeYRgYx8isMJi2z3eti7we6jtQa50TYwx1XROGnp+lYqWHfH673fDjjU+LE5vtjqqqsMYw3cr8UIrGR97Ke7WToiiQUpJab7uO6Ppc3YewjH7Ae0/TD0y3V7QxueVxHPl6sPiRO9BF3o4P4PV6RQiRoVIpRu+YVw1PP+Ys5x+58v2h5Hl5QemaWmvKsuR5JZC1IXrHWda8FpoYApPUUhbWe6RUDK1lLhpm71s2y0WWQUiVgb+XqwxMRTwtL5QXgawE+5NguhacypIJj0huhhhhjFm/b+uSptbZrKTVl3XFvihww4BzAy/ris2+oEtTYVtmO4m15h/wbsB9Xcie7zvBLbgsx+F04fNW5vFIEWPgZatQpsktV6bNJqUx+x/4WEXrKeRd5GSAD5G16hgfLyaZVrIjPvZDGNmk/3+BfwAryK/gcJOMqgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/517a93b6a5327129f00d74bcec2c057b/f058b/image.png\"\n        srcset=\"/static/517a93b6a5327129f00d74bcec2c057b/c26ae/image.png 158w,\n/static/517a93b6a5327129f00d74bcec2c057b/6bdcf/image.png 315w,\n/static/517a93b6a5327129f00d74bcec2c057b/f058b/image.png 630w,\n/static/517a93b6a5327129f00d74bcec2c057b/40601/image.png 945w,\n/static/517a93b6a5327129f00d74bcec2c057b/78612/image.png 1260w,\n/static/517a93b6a5327129f00d74bcec2c057b/541fe/image.png 1654w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>각 단계마다 버퍼 레지스터에 처리 결과를 저장한다. 하지만 마지막 단계인 레지스터에 쓰기 단계에서 레지스터에 쓰는 작업을 한다면 rd값 즉 데이터를 저장할 레지스터의 인덱스가 필요하다. 그러려면 마지막 단계까지 rd값을 전파하여야 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d1f2528aef92f17ec3963b396f7aa7d2/71b12/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABp0lEQVR42lWSjW7jIBCE8/6PllN66VVV1Dj1Lw7GYGODAZvYmRP03OpWQlpg+XYYOHRdhxDOOVhr4YxBJSSENthj3TZcaYtt277XEtpiUBrAE82gUPI+rh/6/iuZpglCCNhJ46NmKHgPP8+xkVIKZ9JAygGMsdj4rWbgcohAqgyKbvwCcs7joQAzxsDPDgnlaLWNBc/nMyoLAKV1rFkfD7zfWyjrYg0dJ5Q7kBCCqqpwv9+htcbiLHIu8UEoBG+jmmDLS07ifmj+8B6XRsAsPkLqQaPs/wHXdYX3HvM8Qw4DZmuiwj+nM0iaYlAqXvN4K2JTKSUaSnFMMpCmgR4kLmWNa82iXYfd5AAMavyyIGcC6ekMGewID+Ucfn0WuCUJxnGMCk9pCUIpFjMh5x3eC4KO8x/g7lWIsu1we3mN+ag15Djid3mP+WPb4Nc1zlNCYI3BlTIkDcfq/Q9wh0Yg6/B5PGFVIyYhMNIGbznBOk3hf8VxqShs+DazQ80EqobjodX/wD2CAk1q2DyHK0vYokCf5TBZ9j36NIPOMrg8x5hlGNIUE2P4CzuQrQ7GiKg5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/d1f2528aef92f17ec3963b396f7aa7d2/f058b/image-1.png\"\n        srcset=\"/static/d1f2528aef92f17ec3963b396f7aa7d2/c26ae/image-1.png 158w,\n/static/d1f2528aef92f17ec3963b396f7aa7d2/6bdcf/image-1.png 315w,\n/static/d1f2528aef92f17ec3963b396f7aa7d2/f058b/image-1.png 630w,\n/static/d1f2528aef92f17ec3963b396f7aa7d2/40601/image-1.png 945w,\n/static/d1f2528aef92f17ec3963b396f7aa7d2/78612/image-1.png 1260w,\n/static/d1f2528aef92f17ec3963b396f7aa7d2/71b12/image-1.png 1308w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>그러므로 위 그림처럼 명령어 해독 단계에서 rd값을 레지스터에 쓰기 단계까지 전파시키게 된다.</p>\n<h2 id=\"제어-신호-전파\" style=\"position:relative;\"><a href=\"#%EC%A0%9C%EC%96%B4-%EC%8B%A0%ED%98%B8-%EC%A0%84%ED%8C%8C\" aria-label=\"제어 신호 전파 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>제어 신호 전파</h2>\n<p>단일 사이클 데이터 패스에서는 각 element마다 제어 신호를 통해 element에게 행동을 지시했었다. 파이프라인 데이터 패스에서는 한 클럭에 여러 개의 명령어를 처리하므로 <strong>컨트롤 유닛이 만들어내는 제어 신호 또한 버퍼에 저장하여</strong> 병렬적으로 명령어를 처리할 때 사용되어야 한다. 그러므로 rd값을 레지스터 쓰기 단계까지 전파시켰듯이 제어 신호들 또한 버퍼 레지스터를 통해 전파시킨다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/46667fc5330566ef0b8372e090483e7a/e4611/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.62025316455697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPklEQVR42mWT6Y7bMAyE8/6vt/+ySVo0h29J1n1PQabeLrAGCMmHPnLI8Sm3jtg7cu+wtcKUChcTtPPQPmB3HrsPkNbxeoQOEdJ72JzROlB7RwdwSq3x5rhqrYgxAr1z2FyhUsYfuWMNEXvKkClDxwQTAoQLyB3wrSO1jlOqDY3o/zLknBlIa04Jm/MMGEOGLY0Pudo5AVcbIqgoGwJiazhN6watDYwx0FrzSpFS4op1LthzxegTZKqwtUHnhldIWKgVPrCC26YYfNrUzpUF7xnovce+7/AhsGSXC0qt0M6xzFg7VG6YjYVwDsIHpFohjH1XKLVmyUoprOsKIQSklDDGsmzlA2JK2JXC8HximUa8hMSyG8xS8WAyJ7Q82NMwzyxxnmfunbWWK00xorSONZa3dK3x+/7AaixmH6Gcx1M7rCkjlwJt3Xso9/sdj8cDy7IwjKC0H8cRr9cL07JiEwJGa8yKWvK20qItjPMQIcI6h3XXkKngRNlba18ggh7Aj48PUMJpmrBtG86fn1BS4nJ/Ytgkq6JWvMYRI52ZpjeQLENTLaV8yaZ+EpTtQ71UCp/nM0uXzmMVEsPwYiANchECYtvewANKQdVST2+3Gy6XC4ZhYOkENNaybVypUJR0nlnqr1VCKIWS83/gdzABr9crzuczg2jyet9BFrvuln2n2AWJLWV94D6Swh9AqtA599U3uj+e0eRNTOw9bQxiCPyr0nNrDH/zA3hcVCUZnHpGQXsKPkh/1bd3x3vy719uTDhEhNzGrAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/46667fc5330566ef0b8372e090483e7a/f058b/image-2.png\"\n        srcset=\"/static/46667fc5330566ef0b8372e090483e7a/c26ae/image-2.png 158w,\n/static/46667fc5330566ef0b8372e090483e7a/6bdcf/image-2.png 315w,\n/static/46667fc5330566ef0b8372e090483e7a/f058b/image-2.png 630w,\n/static/46667fc5330566ef0b8372e090483e7a/40601/image-2.png 945w,\n/static/46667fc5330566ef0b8372e090483e7a/78612/image-2.png 1260w,\n/static/46667fc5330566ef0b8372e090483e7a/e4611/image-2.png 1298w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>결과적으로 이런 데이터 패스를 얻게 된다.</p>","frontmatter":{"title":"컴퓨터 구조론 (4) - 데이터 패스 (2)","date":"January 03, 2024","description":null,"tags":["computer-organization"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%8B%A8%EC%9D%BC-%EC%82%AC%EC%9D%B4%ED%81%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4%EC%9D%98-%EB%AC%B8%EC%A0%9C\">단일 사이클 데이터 패스의 문제</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4\">파이프라인 데이터 패스</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%84%EC%B2%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%8A%A4\">전체 데이터 패스</a></p>\n<ul>\n<li><a href=\"#%EC%A0%9C%EC%96%B4-%EC%8B%A0%ED%98%B8-%EC%A0%84%ED%8C%8C\">제어 신호 전파</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/computer-organization/컴퓨터-구조론-(3)-데이터패스-(1)/"},"frontmatter":{"title":"컴퓨터 구조론 (3) - 데이터 패스 (1)","date":"January 02, 2024"}},"next":{"fields":{"slug":"/computer-organization/컴퓨터-구조론-(5)-데이터-하자드/"},"frontmatter":{"title":"컴퓨터 구조론 (5) - 데이터 하자드","date":"January 04, 2024"}}},"pageContext":{"id":"1edba345-c60c-597f-8ad4-b0d576d0cb47","previousPostId":"62985317-10f5-5de8-93ff-fc2bb4dd0b05","nextPostId":"d3a8d293-f147-5f81-9264-0c3495061037"}},"staticQueryHashes":["1846574571","230163734","3589320610"],"slicesMap":{}}