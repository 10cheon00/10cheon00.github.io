{"componentChunkName":"component---src-templates-blog-post-js","path":"/computer-organization/컴퓨터-구조론-(7)-메모리-계층-및-캐시/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"7a45ddae-547e-547a-ad37-f4183b0ed3f1","excerpt":"2023년 2학기 컴퓨터 구조론 수업을 듣고 정리한 내용입니다. 수업 교재는 컴퓨터 구조 및 설계 RISC-V 2판입니다. 메모리별 특징 SRAM 비트 하나를 나타내는 데에 트랜지스터가 많이 필요하다. 비싸다. 대신 리프레시가 필요없다. 그렇기 때문에 접근 시간이 굉장히 짧다. DRAM…","html":"<blockquote>\n<p>2023년 2학기 컴퓨터 구조론 수업을 듣고 정리한 내용입니다. 수업 교재는 <a href=\"https://product.kyobobook.co.kr/detail/S000060622658\">컴퓨터 구조 및 설계 RISC-V 2판</a>입니다.</p>\n</blockquote>\n<h1 id=\"메모리별-특징\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC%EB%B3%84-%ED%8A%B9%EC%A7%95\" aria-label=\"메모리별 특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>메모리별 특징</h1>\n<h2 id=\"sram\" style=\"position:relative;\"><a href=\"#sram\" aria-label=\"sram permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>SRAM</h2>\n<p>비트 하나를 나타내는 데에 트랜지스터가 많이 필요하다. 비싸다. 대신 리프레시가 필요없다. 그렇기 때문에 접근 시간이 굉장히 짧다.</p>\n<h2 id=\"dram\" style=\"position:relative;\"><a href=\"#dram\" aria-label=\"dram permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>DRAM</h2>\n<p>데이터를 전하 형태로 커패시터에 저장한다. 그래서 비트 하나를 표현하기 위해 트랜지스터 1개가 필요하다. 싸다. 대신 수 밀리초 동안만 유지되기 때문에 주기적인 리프레시가 필요하다. 그러므로 SRAM보다 읽는 데에 시간이 더 필요하다.</p>\n<h2 id=\"디스크-메모리\" style=\"position:relative;\"><a href=\"#%EB%94%94%EC%8A%A4%ED%81%AC-%EB%A9%94%EB%AA%A8%EB%A6%AC\" aria-label=\"디스크 메모리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>디스크 메모리</h2>\n<p>원판에 데이터를 저장한다. 원하는 데이터를 읽기 위해서는 원판을 회전시키고 각 트랙 및 섹터를 찾아가는 시간이 필요하므로 훨씬 더 느리다. 대신 저장 용량이 굉장히 크다.</p>\n<p>이렇게 메모리 종류별로 속도 및 용량에 차이점이 있으므로, CPU가 원하는 데이터를 빠르게 읽기 위해서는 <strong>캐시</strong>가 필요하다.</p>\n<p>캐시는 메모리 계층에서 주기억장치와 프로세서 사이에 있는 중간 단계로, 프로세서가 더 빠르게 데이터를 읽고 쓸 수 있게 해주는 역할을 담당한다.</p>\n<h1 id=\"지역성\" style=\"position:relative;\"><a href=\"#%EC%A7%80%EC%97%AD%EC%84%B1\" aria-label=\"지역성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>지역성</h1>\n<p>캐시에 메모리를 저장하고 프로세서가 그것을 읽게 되는데, 캐시에 원하는 정보가 담겨 있어야 주기억장치까지 탐색하지 않을 수 있다. 그러려면 미리 캐시에 원하는 정보를 담아두어야 하는데 두 가지 지역성의 원리에 따라 담는다.</p>\n<h2 id=\"시간적-지역성\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EC%A0%81-%EC%A7%80%EC%97%AD%EC%84%B1\" aria-label=\"시간적 지역성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>시간적 지역성</h2>\n<p>최근에 참조한 데이터는 연이어 참조될 확률이 높다. 예를 들어 반복문 속에서 변수의 값을 바꾼다고 하면 지속적으로 참조되고 있으므로 캐시를 통해 접근 시간을 줄인다면 성능이 향상된다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;=</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  sum <span class=\"token operator\">+=</span> i<span class=\"token punctuation\">;</span> <span class=\"token comment\">// sum이 지속적으로 참조되고 있다.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"공간적-지역성\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EA%B0%84%EC%A0%81-%EC%A7%80%EC%97%AD%EC%84%B1\" aria-label=\"공간적 지역성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>공간적 지역성</h2>\n<p>참조한 데이터 주위에 있는 데이터 또한 참조될 확률이 높다. 예를 들어 배열에 접근한다고 하면 접근한 데이터 주변에 있는 데이터 또한 인덱스를 변경함으로써 접근될 확률이 높다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">int</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">100</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i<span class=\"token operator\">*</span>i<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 인덱스 i의 주변에 있는 데이터 또한 참조되고 있다.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"성능\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EB%8A%A5\" aria-label=\"성능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>성능</h1>\n<p>캐시의 성능은 <strong>적중 시간 및 실패율, 실패 손실</strong>에 의해 결정된다. <strong>적중 시간</strong>은 <strong>캐시에 원하는 데이터가 있는지 확인하는 시간</strong>이며, <strong>실패 손실</strong>은 <strong>캐시에서 원하는 데이터를 찾을 확률</strong>이며 이것은 실패율로 나타낼 수 있다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>평균 메모리 접근시간</mtext><mo>=</mo><mtext>적중 시간</mtext><mo>+</mo><mtext>실패율</mtext><mo>∗</mo><mtext>실패 손실</mtext></mrow><annotation encoding=\"application/x-tex\">평균\\space메모리\\space접근시간 = 적중\\space시간 + 실패율 * 실패\\space손실</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord hangul_fallback\">평균</span><span class=\"mspace\"> </span><span class=\"mord hangul_fallback\">메모리</span><span class=\"mspace\"> </span><span class=\"mord hangul_fallback\">접근시간</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord hangul_fallback\">적중</span><span class=\"mspace\"> </span><span class=\"mord hangul_fallback\">시간</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord hangul_fallback\">실패율</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord hangul_fallback\">실패</span><span class=\"mspace\"> </span><span class=\"mord hangul_fallback\">손실</span></span></span></span></span></div>\n<h1 id=\"직접-사상-캐시\" style=\"position:relative;\"><a href=\"#%EC%A7%81%EC%A0%91-%EC%82%AC%EC%83%81-%EC%BA%90%EC%8B%9C\" aria-label=\"직접 사상 캐시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>직접 사상 캐시</h1>\n<p>캐시 블록에 메모리 워드 하나를 저장한다. 이 때 캐시 블록이 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mi>N</mi></msup></mrow><annotation encoding=\"application/x-tex\">2^N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413309999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span></span></span></span></span></span></span></span>개라면, <strong>메모리 주소의 하위 N비트를 캐시 블록의 인덱스로 사용</strong>한다. 그리고 <strong>남은 비트들은 <code class=\"language-text\">tag</code>에 저장</strong>된다. 캐시 블록에 데이터가 없을 때에는 <code class=\"language-text\">valid</code>가 <code class=\"language-text\">N</code>으로 초기화 되어있고, 캐시에 데이터를 적재한다면 <code class=\"language-text\">Y</code>로 갱신한다.</p>\n<p>예를 들어 메모리 주소 <code class=\"language-text\">00110</code>에 저장된 데이터를 캐시에 저장한다고 하면 아래 테이블처럼 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/47a6f6b1f30d1783d5e61edc3262583b/8c857/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcRAAAXEQHKJvM/AAADaUlEQVR42lWS3W/bVADF/beBhBCIFwRCGm888DCEREGFIT7EVISQkKap6iSG9jCkgQWaWxhl0G0tgaVJ0yZxYsex48SJbz6b+LtJ7CR2fdD1CG0efjr33HPPg63DvLmRJ+/cKJG3vymSlz46JK9+ekTe+rpA1rbK5I3rx+Tla1ly9QZPXv88R175OEteXM+Q59bS5MpGnry7WSJXNo7J82vp5gsfHLqvfZbbYr64q2Jzu4XNbYL1bxV8eFvGzfs6bv3Sxid3FLy3JeH2gza+utfA2i0p8Vdvirj+vYqtHR1f3qtTH67faePadzLL8JVhnBeH8d0fH8b3f03F1boV76eVeC8lxtW6HQvyMM4Lp3FJGsaSasSCPEooVobxiXCaqKgYC723gKQaLKPpDprERSZXRZ7XoHfPICn9hFbHQ0N3oBEn0WbbTTS5S+6X3g4NB2h2PJaxnAC2O8OT/acolmRMgxhaqw+10YE3XsByfNA3z94F/58vY9p+eA7A9gKWkRs2KOkjBbmCBrXpoCT1URQ7UFsuljml1nRW/AVW2DNi2mWZkjQCZWc3g4ePC6goFg5zGv7JqqjULCxziigbK/4SYbOzQEUxWGZoTEFJHxZRqbbgeCHqGv3kHkx7hmVOGZnTFX/BJJyHgGFOWaY7GINS4FXIag+nho9Ga4RaY4DBaIplTumdjlf8BWfh2Af6wwnLFCpD8FUDO79n8NN2CoJiIZVRsZ+WIdQs0HxJqTpa8ZcI6+05yrLBMnQKdB7L2XT6E0i1PipKD6Q3TqZCZ0Wno3e8RBP+m1OSt53Q8gC957GMafmwnRmyRzyKvIzx5BwNrY+a2oHrzel/gWUH8MYhHHcObxzBPVsk3j0LQfumOQ2jc8C2A5ap1i1QsicNpHM1KJqNsjQAL/aSmSgNGyVpgEcHBRTFNp6keBw8FbD/dwl/pUU865thd3ROuywjKEYk1szo0QEfPU6VI0k1o4LYj07K3UhSraiiWlFe6EYP/shGx7ye6O7ecfTbn0fR7l4u4qXTSFDMWbM7g1S3f2CmAeDPgKqio0WGoJPv9h20uxbmC2Dix0m+iIBgDtB5XIb2Jz5CIDmzjGEHHEVWCac1B5w7XnDdns2RtsHZ3oJb5iPL5yw34AzLX8UOOMud/2zY/p7l+O//C6y7XqxakUoaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/47a6f6b1f30d1783d5e61edc3262583b/f058b/image.png\"\n        srcset=\"/static/47a6f6b1f30d1783d5e61edc3262583b/c26ae/image.png 158w,\n/static/47a6f6b1f30d1783d5e61edc3262583b/6bdcf/image.png 315w,\n/static/47a6f6b1f30d1783d5e61edc3262583b/f058b/image.png 630w,\n/static/47a6f6b1f30d1783d5e61edc3262583b/8c857/image.png 761w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>캐시 블록이 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">2^3=8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">8</span></span></span></span></span>개이므로 메모리 주소 <code class=\"language-text\">00110</code>의 하위 N비트인 <code class=\"language-text\">110</code>이 인덱스로, 남은 <code class=\"language-text\">00</code>이 tag로 들어가게 된다. valid는 <code class=\"language-text\">Y</code>로 바뀌게 되고, 메모리에 들어있는 데이터가 저장된다.</p>\n<p>이 때 메모리 주소 <code class=\"language-text\">10110</code>에 저장된 데이터를 캐시에 저장하면 이렇게 바뀐다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82501ad8c9db45182f2d65a6f6dde9c4/8c857/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcRAAAXEQHKJvM/AAADaUlEQVR42lWS2WskVRjF629TEFF8EUUY33zwYUQwSnTEBYeICMIwhAw4Mg8jjBbKdKLizDDGhFZ7SU9679qrerndXb3U2pXqrl6qUkduxTbphx/nnu9838OFw7y5UyTv3KqSt78pk5c+ypJXPz0hb31dIlt7NfLGzWfk5Rt5cv1Whbz+eYG88nGevLidI89tZci1nSJ5d7dKru08I89vZVovfJCdvPZZYY/54r6C3f02dvcJtr+V8OFdEbcfdnDnly4+uSfhvT0ed3/r4qsHGrbu8Im/fruBm98r2Dvo4MsHKvXh9r0ubnwnskyFG8fFxji+/+Pj+OGv6VhQ7fgoI8VP041YUJ24Lo7jYn0UV/lxzCtmXBeNhDI3jk/ro0Qbkrnq6CvwiskyzY6LFpkgVxBQrDTR6Z+BlwYJ7Z4HreOiSdxEW91Josksma+9E5ou0Op5LGO7cziTBf48+gflqojZPEazPYCi9eD5K9huALpzsTf//30VywnCcwCON2cZUXNAyZxIKJSaUFouqvwA5UYPSnuCdU6RW+6Gv8QOdTOmtyxT5Q1QDn7P4fFhCZxkI1to4u+8Ak62sc4pDdHc8FcIW70VOMlkmbE5AyWTLYMT2nC9EGqTflmH5SywzimGNdvwl0zDZQiY1oxl+kMflFJFgajoGJkBtLYBWRtiaMywzin6yN/wl5yFfgAMxlOWKXFjVAQTB49y+Gk/jbpkI51TcJQRUZdt0HxNVTA2/BVCtbtETTRZhlaB1mNdm95gCl4egJN0EN1PqpJAXHR6XqKtpGr/aZK7oe0BHd1jGcsO4LgL5E8qKFdE+NNzaM0BZKWHibeEZc1Ad4yzFSx3AfNsBcOPYPohDD9MMtOahdE54DhzlhFUG5T8qYZMQYbUdFDjh6g09KQmguZAkAyoGQ4Kr0PNC9COy9COS1D/qoKnuWqFfeOc3rJMXTKjhmxFfxxXosN0LeIVKyo1BtFprR/xih3VZStqcINIOixGQq0byYfFSH6Sj+RH2Uh+chLV+VFUl6xFq78Arzo/MLM5ECwAQeqgTcagle8PXHT7NpYrYBbEoDt+CMyWwHQF+NGFT2ZzYBogBJI3y5jOPEURFZJqtoapib9K9XUnRbpmyvFWqXVu2kHKnlzoBs48ZU+WP5tO8NR2g/f/BdyMX/57cVZHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/82501ad8c9db45182f2d65a6f6dde9c4/f058b/image-1.png\"\n        srcset=\"/static/82501ad8c9db45182f2d65a6f6dde9c4/c26ae/image-1.png 158w,\n/static/82501ad8c9db45182f2d65a6f6dde9c4/6bdcf/image-1.png 315w,\n/static/82501ad8c9db45182f2d65a6f6dde9c4/f058b/image-1.png 630w,\n/static/82501ad8c9db45182f2d65a6f6dde9c4/8c857/image-1.png 761w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>하위 N비트를 제외한 남은 비트들인 <code class=\"language-text\">10</code>이 tag항목에 저장되면서 캐시가 갱신된다.</p>\n<h2 id=\"캐시-접근\" style=\"position:relative;\"><a href=\"#%EC%BA%90%EC%8B%9C-%EC%A0%91%EA%B7%BC\" aria-label=\"캐시 접근 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>캐시 접근</h2>\n<p>캐시에 접근해서 원하는 데이터를 찾았다면 <code class=\"language-text\">Hit</code>, 그렇지 못했다면 <code class=\"language-text\">Miss</code>로 표현한다.</p>\n<p><code class=\"language-text\">Hit</code>되기 위해서는 해당하는 인덱스 블록이 valid해야하고, tag또한 일치해야한다.</p>\n<p>예를 들어 위 테이블에서 메모리 주소 <code class=\"language-text\">01001</code>에 접근하기 위해 캐시에 접근했다면 <code class=\"language-text\">001</code>인덱스에 <code class=\"language-text\">valid</code>비트가 <code class=\"language-text\">N</code>이므로 <code class=\"language-text\">Miss</code>다. 원하는 데이터를 얻지 못했다면 주기억장치에 접근하여 데이터를 읽어야 한다. 데이터를 읽어온 후 캐시에 업데이트하게 되면 아래와 같이 변한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ba7f796fbfc63b88a3c03c191422b83f/8c857/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcRAAAXEQHKJvM/AAADj0lEQVR42lWS24sbVRzH529TEFH6IopQ33zwoSK4ympFLZYVEYRSli1YKaJQHbxk1y522+6yS9zmsukmmVzmnplJTjK5zi2TezKz85WTELb78OF7vufzOy+HH/PeVpZ8eKdAPvghT974PEne+uqMvP99jmzsFMm7t1+QN2+myY07HHnnVoZc+yJNXt9MkVc2EuT6VpZ8tF0g17dekFc3EsZrnyb7b3+d2WG++UXF9m4V27sEmz/K+Oy+hLt/13Dvnzq+fCDj4x0B9/fr+O6hho17wrLfuFvG7V9V7OzV8O3DCu3B5oM6bv4ksQzHd6NsuRv9/PtB9NejeCRWnOg4IUdP43wkVtyoJHajbKkTFcReJKhWVFJW5MVedF7uRnm+E5Vla1FrLiCoFsvoNQ866aOQEVHkdBjmAIrShiy3YNR9aMSDXnWgyW0YNRe63IamdKCrXRhqZ+m1mhtYHmA0fJZxvCmc/gzz4+eYFCQ44wv0Wy5804bjz5e4poXB6Rk808Lw2Qn85Dn8VBaDkyQcewTbmwYXAFx/yjKS5oLy/ExGJqdDNTxwfAv5sgm12sfaS7oHxfCWKenu5X3FoRk0rYi+ZZmC0ANl798UDo5y4GUHiYyO07QKXnGw9pSyZKEgWqsuvnQWuoHRWICXLZbpWmNQEsk8eLEKzw9Q0VtQtSZsd4a1p/Ts8ZV+ySiYB4Blj1nGbA9ByXEqJLWJjjWBVu1B0dpo98ZYe0qzM7zSLxkEwwnQ6o5YJsd3wYkW9h6n8MduHCXZQTyl4jghoaQ4oH5NQexd6S8RVOpzFCWLZYx6H9WGj1RGRJbT0WiNICgt8HITpDkE9RSdeKg1/GWuVm2VK+8Fjg/Umj7L2M4ErjdD+oxDnpMwHF1A01tQ1Ab6/pz+C+hMf7BYztH0hyEGwwD+MIDlTGDb4yC8AFx3yjJixQElfa4hkVEg6y6KQhtcublaE80FL/cQT/AoCk2cpkUcnuRxeJLD8X+FpRcrdmD2LuhblinJVlhW7PDwhAuP4sVQUO0wV26F50UzFFRn6fJ8Kzw4yobnxfoy95+kw0ePk+H+k7OQEzphSbZnhjmDUHF/Y8ZTYDIDRLmGKumCrrzZ8lA3HcwXwGgSgc7QtZjOgdkCWISrTqFuNEEALM8sY7nTGEVSSUw32rH+cBEzm26M1K2Y6y9ia285k5jTX+UV3GnM6c//tNzJM8ebfPI/gSNdUfsrg40AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/ba7f796fbfc63b88a3c03c191422b83f/f058b/image-2.png\"\n        srcset=\"/static/ba7f796fbfc63b88a3c03c191422b83f/c26ae/image-2.png 158w,\n/static/ba7f796fbfc63b88a3c03c191422b83f/6bdcf/image-2.png 315w,\n/static/ba7f796fbfc63b88a3c03c191422b83f/f058b/image-2.png 630w,\n/static/ba7f796fbfc63b88a3c03c191422b83f/8c857/image-2.png 761w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>만약 올바른 인덱스에 접근했고 <code class=\"language-text\">valid</code>도 <code class=\"language-text\">Y</code>인데 <code class=\"language-text\">tag</code>항목이 다르다면 이것 또한 <code class=\"language-text\">Miss</code>다.</p>\n<p>예를 들어 메모리 주소 <code class=\"language-text\">11110</code>에 접근하기 위해 캐시에 접근했다고 하자. 그럼 <code class=\"language-text\">tag</code>가 일치하지 않으므로 <code class=\"language-text\">Miss</code>이고, 캐시 테이블 또한 이렇게 바뀐다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/497fe8be882b886c3671e649c84a6d71/8c857/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcRAAAXEQHKJvM/AAADiklEQVR42lWS24sbZRjG529TEFG8EUWod154URFcZbXiAcuKCEIpyxas9KJCdVCaXRVdXevWdM1hs5tkcphzjl8ymRy+OWQ6Oc/sPPJNjO1e/HjfZ37zXn0P9/pOnrx1o0Te/KpIXvggTV7++JS88WWBbO2VyWvXz8iL17Lk6g2BvPppjrz0YZY8v50hz2ylyJWdPHl7t0Su7JyRZ7dSzefeS49f+SS3x312V8fufgu7+wTbX6t4/7aCm/fbuPVTBx/dUfHOnoTbv3Twxb06tm5Jcb56s4rr3+rYO2jj83s1loPtOx1c+0bhOUEcRvnqMLr7/WF0/+dkJNfs6DilRkdJMZJrTlSRh1G+MojK8iiSdBpVtTWCPIrviuIgqqp01e6tIOmU5xptF00yRiYnIy800DYeQ9L6EFUTrY6HBnFRa9mQ1D7qbQei2oekDSDrQ8j6IPb1thNQF2h2PZ6z3Tmc8QJ/Hf8DoaTAn16gZzroGhZcbxnTMSgenZyia1D8cfQQqfQ50pk8jh+mQa0JbHceXABwvDnPKXUHjNSpilyhAb3poiSaKFYN6K0xNl5puLFTGwwH6n/f5ZrNZtCjEfM8V5JGYBz8msHhgwJE1UYq18BJVoeo2dh4RlWhKMl0neWndmkYNLsriCrluSGdgpFKFyHKLbhegFrDhF7vwXIW2HjGyJpeyk+YBMsAoNaU54y+D0ZB0KHoPQzoDPXWCFq9j/5oio1n9Ab+pfyEx4E/A8zhhOcK4hCCTHHwWwY/7CdRUW0kMzqOUwoqmg3mN5Tk0aX8FEGts0RZoTzX7IzR6nr/16ZrTiBpJkS1B9LzwXwMcdHuevFkNYsnq1zs3cD2gHbP4znLnsFxF8ieCigKCvzJBeoNE5rexdhbwrKmsJwZqLeE7S5A/QB0vJ4jPwC7p9Y0CC8Ax5nzHHt2Rva8jlROiytRlvoQqj1oTRcyq4cyhH5Wgy6bqP9dhFZsovaohHpSgBRXxwqM0QW75bmKSsOqZoV/PhTCB8lyKOlWWKia4XnZCCXdDiuaFVarZqgky6Fc6YbaYSZUTsRQ+z0bU5EGYUW1Fk1jAanmfMdN58BsAchqGy0yBKu8YbroGDaWK2A6i8D+mSyB6RKYBOvdDwA/xNrNEADxznPUmScYik4SjWY/MfZXCaPnJEiHJhxvldh4as8S9ng9L+HME/Z4+SN1Zke2O3v3X4bEXQX59jIxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/497fe8be882b886c3671e649c84a6d71/f058b/image-3.png\"\n        srcset=\"/static/497fe8be882b886c3671e649c84a6d71/c26ae/image-3.png 158w,\n/static/497fe8be882b886c3671e649c84a6d71/6bdcf/image-3.png 315w,\n/static/497fe8be882b886c3671e649c84a6d71/f058b/image-3.png 630w,\n/static/497fe8be882b886c3671e649c84a6d71/8c857/image-3.png 761w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"캐시-실패-처리\" style=\"position:relative;\"><a href=\"#%EC%BA%90%EC%8B%9C-%EC%8B%A4%ED%8C%A8-%EC%B2%98%EB%A6%AC\" aria-label=\"캐시 실패 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>캐시 실패 처리</h2>\n<p>명령어 메모리에서 캐시 실패가 일어났다면 인출을 중지하고 PC값을 메모리로 보내 데이터를 읽은 후 캐시에 저장한다. 그 후 다시 명령어 파이프라인을 진행한다.</p>\n<p>데이터 메모리에서 캐시 실패가 일어났다면 메모리에서 데이터를 읽어올 때까지 파이프라인을 정지한다.</p>\n<h2 id=\"캐시-쓰기\" style=\"position:relative;\"><a href=\"#%EC%BA%90%EC%8B%9C-%EC%93%B0%EA%B8%B0\" aria-label=\"캐시 쓰기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>캐시 쓰기</h2>\n<p>캐시에 어떤 데이터를 쓴다면 종국에는 주기억장치에 업데이트 해야한다. 업데이트 하는 방법은 다음과 같다.</p>\n<h3 id=\"즉시-쓰기\" style=\"position:relative;\"><a href=\"#%EC%A6%89%EC%8B%9C-%EC%93%B0%EA%B8%B0\" aria-label=\"즉시 쓰기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>즉시 쓰기</h3>\n<p>캐시에 쓰기 작업을 한다면 메모리에도 동시에 쓴다. 하지만 이렇게 할거면 메모리에 계속 접근하는 셈이 되므로 성능 향상을 꾀할 수 없다.</p>\n<h3 id=\"쓰기-버퍼\" style=\"position:relative;\"><a href=\"#%EC%93%B0%EA%B8%B0-%EB%B2%84%ED%8D%BC\" aria-label=\"쓰기 버퍼 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>쓰기 버퍼</h3>\n<p>캐시에도 쓰고 버퍼에도 쓴다. 그리고 메모리에 쓰는 작업은 쓰기 버퍼가 담당하게 내버려 둔 후 다시 명령어를 처리한다.</p>\n<p>이 때 버퍼는 큐 형태로 동작하며 큐에 데이터가 꽉 차서 오버플로우가 일어나면 파이프라인이 잠시 정지하게 된다.</p>\n<h3 id=\"나중-쓰기\" style=\"position:relative;\"><a href=\"#%EB%82%98%EC%A4%91-%EC%93%B0%EA%B8%B0\" aria-label=\"나중 쓰기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>나중 쓰기</h3>\n<p>당장에는 캐시에 데이터를 저장하되 캐시에서 쫓겨날 때(?) 메모리에 쓰기 작업을 한다. 별도의 비트를 두어 쓰기 작업을 했는지 관리한다.</p>","frontmatter":{"title":"컴퓨터 구조론 (7) - 메모리 계층 및 캐시","date":"January 04, 2024","description":null,"tags":["computer-organization"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC%EB%B3%84-%ED%8A%B9%EC%A7%95\">메모리별 특징</a></p>\n<ul>\n<li><a href=\"#sram\">SRAM</a></li>\n<li><a href=\"#dram\">DRAM</a></li>\n<li><a href=\"#%EB%94%94%EC%8A%A4%ED%81%AC-%EB%A9%94%EB%AA%A8%EB%A6%AC\">디스크 메모리</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A7%80%EC%97%AD%EC%84%B1\">지역성</a></p>\n<ul>\n<li><a href=\"#%EC%8B%9C%EA%B0%84%EC%A0%81-%EC%A7%80%EC%97%AD%EC%84%B1\">시간적 지역성</a></li>\n<li><a href=\"#%EA%B3%B5%EA%B0%84%EC%A0%81-%EC%A7%80%EC%97%AD%EC%84%B1\">공간적 지역성</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%84%B1%EB%8A%A5\">성능</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A7%81%EC%A0%91-%EC%82%AC%EC%83%81-%EC%BA%90%EC%8B%9C\">직접 사상 캐시</a></p>\n<ul>\n<li>\n<p><a href=\"#%EC%BA%90%EC%8B%9C-%EC%A0%91%EA%B7%BC\">캐시 접근</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%BA%90%EC%8B%9C-%EC%8B%A4%ED%8C%A8-%EC%B2%98%EB%A6%AC\">캐시 실패 처리</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%BA%90%EC%8B%9C-%EC%93%B0%EA%B8%B0\">캐시 쓰기</a></p>\n<ul>\n<li><a href=\"#%EC%A6%89%EC%8B%9C-%EC%93%B0%EA%B8%B0\">즉시 쓰기</a></li>\n<li><a href=\"#%EC%93%B0%EA%B8%B0-%EB%B2%84%ED%8D%BC\">쓰기 버퍼</a></li>\n<li><a href=\"#%EB%82%98%EC%A4%91-%EC%93%B0%EA%B8%B0\">나중 쓰기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/computer-organization/컴퓨터-구조론-(6)-분기-하자드/"},"frontmatter":{"title":"컴퓨터 구조론 (6) - 분기 하자드","date":"January 04, 2024"}},"next":{"fields":{"slug":"/til/24-1-11-docker-이해하기/"},"frontmatter":{"title":"24-1-11 docker 이해하기","date":"January 11, 2024"}}},"pageContext":{"id":"7a45ddae-547e-547a-ad37-f4183b0ed3f1","previousPostId":"ddfc56dc-d75d-5aae-be3b-126252b75a42","nextPostId":"790edec3-1f59-53ec-afb5-f39b7e56ad7d"}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}