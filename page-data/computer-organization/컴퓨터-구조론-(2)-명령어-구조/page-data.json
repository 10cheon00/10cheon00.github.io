{"componentChunkName":"component---src-templates-blog-post-js","path":"/computer-organization/컴퓨터-구조론-(2)-명령어-구조/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"421dac7a-e20a-5c2f-8050-1774f40ea06f","excerpt":"컴퓨터는 명령어에 의해 동작한다. CPU는 메모리에 저장된 명령어를 불러와 해석하고 연산한다. 명령어 설계 원칙? 간단하게 하기 위해서는 규칙적인 것으로 정한다 명령어에 들어가는 파라미터는 3개로 제한한다. ex. 은 x6과 x7이 갖고 있는 값을 더해 x…","html":"<p>컴퓨터는 명령어에 의해 동작한다. CPU는 메모리에 저장된 명령어를 불러와 해석하고 연산한다.</p>\n<h1 id=\"명령어-설계-원칙\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%84%A4%EA%B3%84-%EC%9B%90%EC%B9%99\" aria-label=\"명령어 설계 원칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>명령어 설계 원칙?</h1>\n<ul>\n<li>\n<p>간단하게 하기 위해서는 규칙적인 것으로 정한다</p>\n<p>명령어에 들어가는 파라미터는 <strong>3개</strong>로 제한한다. ex. <code class=\"language-text\">add x5, x6, x7</code>은 x6과 x7이 갖고 있는 값을 더해 x5에 대입한다.</p>\n</li>\n<li>\n<p>작게 설계해야 더 빠르다.</p>\n<p>레지스터의 개수는 32개(32비트 프로세서 기준)로 제한되어 있는데, 더 큰 레지스터를 가지면 CPU가 연산하기 편리하지만 <em>CPU&#x3C;->레지스터간 왕복이 빈번해지므로 이에 따른 시간이 많이 소모된다</em>.</p>\n</li>\n</ul>\n<h1 id=\"레지스터\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0\" aria-label=\"레지스터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>레지스터</h1>\n<p>CPU가 연산을 위해 이용하는 메모리다. 32비트, 64비트 프로세서가 의미하는 말은 <strong>레지스터의 크기가 32비트인지 64비트인지</strong>를 의미한다. 두 프로세서의 차이점은 접근할 수 있는 메모리의 범위가 다르다. 32비트 프로세서는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup><mo>≈</mo><mrow><mn>4</mn><mi>G</mi><mi>B</mi></mrow></mrow><annotation encoding=\"application/x-tex\">2^{32}\\approx{4GB}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">32</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">4</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">GB</span></span></span></span></span></span>만큼 접근 가능하지만 64비트 프로세서는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>64</mn></msup><mo>≈</mo><mrow><mn>16</mn><mi>E</mi><mi>B</mi></mrow><mo>=</mo><mn>16</mn><mo separator=\"true\">,</mo><mn>000</mn><mo separator=\"true\">,</mo><mn>000</mn><mi>T</mi><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">2^{64}\\approx{16EB}=16,000,000TB</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">64</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">16</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">EB</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\">16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">000</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">000</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">TB</span></span></span></span></span>나 접근이 가능하다.</p>\n<blockquote>\n<p>수업은 32비트 프로세서를 기준으로 진행되었기 때문에 본 게시물도 32비트 프로세서를 기준으로 작성되었습니다.</p>\n</blockquote>\n<h2 id=\"각-레지스터의-용도\" style=\"position:relative;\"><a href=\"#%EA%B0%81-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0%EC%9D%98-%EC%9A%A9%EB%8F%84\" aria-label=\"각 레지스터의 용도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>각 레지스터의 용도</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 506px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2585bc1fc95666dba53ea2886dfd6b70/29f4e/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.91139240506328%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACmklEQVR42o2UCW/aShSF/f//0qvKkxLzYrN4BRswtvGKVwiYNo1KvmomTSTU5WWkkS0vR/fc881VDNNgG2zQNY00y7BtG9M00XUNy7KIoghVvcddLPE8j8PhiFgvLy/8binih8PhwGazIctzwihkt9vhui5xHFNVlRTNspy+P/D8/MzflrJer+j7nvt7FcsyCIKA+dxgPB6jaRpjVWUYLn+t6kYwTVOOx0dZRZLsaJqGIs/YxTFRFHMeBin0tv9X0Pd9aevh4QHXXeD5PqZp4Ng20+mU4fL1Z3V8aCmLxYI8y6SIZZqsVit838N1XObzOVmefdiuFMzznCgM8TyfJElI04QwDBGtWK/XdF0vP7xerzfW/9QCxXFs4t0OXdeZTCZMpjMc20Kf6Gjaaxvgg36FoEDj27dn9mVJkqbSvuO4HI9Hqv2ecLvl6emJpq5p25a+6yVmIrz+cOD79XorKCA+nU6E24C6aVguXNTxfwzDQLKLsQyDpusl3MLB3d0ds9mMe1XlQdM4n4ebHisiBNEvz1tKBrMspdyX+J6H6zo3J+Mj6ChCSFixLYul5xFs1iyWHsvlAtuyadvuPZS3Vv5O/L1CwVpeFDKUXZJIq+I+il9BF6dF2BN46fqE0efPjEb/yra0TfsLUsp2u6Wqa87nE2VZyiAEe6KyPM8kQk3b0nUd+31JsAkoikIiJpxdvnzhchnk9yIgZeG6ZHnB6fGR9XpDXVeURYY+mWLZtoQ7jkJm8zmqquI4DoZhMJ/NMA2T0Wgkz/0/nz7R9T1KHEXUTSvREOEUeS4r3YYhYRgRiPSrSk4eAbq4incr338P7A3612mzWlFWlaxQDIOmqdmXBY7ryvknks7SRFYm+imeiW3bFtW++kXwBy/K8ip2BpfEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/2585bc1fc95666dba53ea2886dfd6b70/29f4e/image.png\"\n        srcset=\"/static/2585bc1fc95666dba53ea2886dfd6b70/c26ae/image.png 158w,\n/static/2585bc1fc95666dba53ea2886dfd6b70/6bdcf/image.png 315w,\n/static/2585bc1fc95666dba53ea2886dfd6b70/29f4e/image.png 506w\"\n        sizes=\"(max-width: 506px) 100vw, 506px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>\n<p><code class=\"language-text\">x0</code>: const value 0</p>\n<p><strong>읽기 전용</strong>으로 되어있어서 다른 값을 쓸 수 없고, 0으로 정해져있어서 다른 레지스터나 변수에 값을 초기화하는 용도로 쓴다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">x1</code>: return address</p>\n<p>함수를 호출한 후 호출된 함수의 실행이 종료되면 다시 원래의 명령어 위치로 돌아와야 한다. 이 때 메모리에 스택이 생겼다가 사라지는데, 그 때 <strong>함수를 호출한 명령어가 저장되어있던 주소</strong>를 기억했다가 불러오는 용도다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">x2</code>: stack pointer</p>\n<p>함수를 호출하면 메모리에 함수의 스택이 새로 생성되는데, 이 때 <strong>할당된 스택의 주소</strong>를 이 레지스터가 나타낸다. 메모리에 변수를 생성할 때 이 스택 포인터를 이용하여 할당하게 된다.</p>\n</li>\n</ul>\n<p>나머지는 자세하게 배우지 않았다...</p>\n<h2 id=\"메모리-접근\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%A0%91%EA%B7%BC\" aria-label=\"메모리 접근 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>메모리 접근</h2>\n<p>메모리는 1차원 배열로 되어있다. 각 배열의 원소는 1바이트의 값을 저장할 수 있고, 원소마다 고유의 주소를 갖는다.</p>\n<p>레지스터에는 단순한 값이 담길 수도 있지만 메모리의 주소를 담을 수도 있다. 명령어를 통해 레지스터에 담긴 주소로 가서 값을 불러오거나 저장할 수 있다.</p>\n<h3 id=\"endian\" style=\"position:relative;\"><a href=\"#endian\" aria-label=\"endian permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>endian</h3>\n<p>레지스터는 32비트이기 때문에 메모리에 접근해 데이터를 불러올 때 8비트(1바이트)만 불러오면 아쉽다. 한번에 32비트(4바이트=1워드)를 불러올 수 있으면 좋겠는데, 불러오는 순서가 좀 다르다</p>\n<ul>\n<li>\n<p>Little endian</p>\n<p>데이터의 LSB(Least Significant Bit, 제일 왼쪽 비트)가 담긴 바이트부터 저장하고 불러오는 방법이다.</p>\n</li>\n<li>\n<p>Big endian</p>\n<p>데이터의 MSB(Most Significant BIg, 제일 오른쪽 비트)가 담긴 바이트부터 저장하고 불러오는 방법이다.</p>\n</li>\n</ul>\n<p>두 방법의 차이는 아래 그림에 정리했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 596px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d373bc28812490160a498d2e6a5b57f1/699b7/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACP0lEQVR42pWT22sTURDG80fpa1988Unpg76JL1VREAQVoi1orehDVRBRKCpa67XQi0Jba5W2sa3Y2kQS03ZJuk2yaZLGmOa2u0n28pNzQtJWBHFg2Dk7w3e++eaMxzAM8r/yhNe/83y8j8GpJ7yefIwvOMGSMsOiMs3S2izrSYWNZJR1TWFzSyOpJclkMqTTaSqVCtvb29RqNTyFQoENNYZv+QOd987Q8/A83X3nePnpAaPzA4ws9PNu/gXLK1/whxdZCi2gqGFCoRDRaBRFUcjn8yQSCcrlMh7+Ya7r8j81HnEQbug6gq1lWdStuvzatoWu69i2LYtFW+LsOI7MN2pshGzinwRsIuuGLqlbdYt6rS7dqllUypVWscgXi0VM05QgTRcathg2g2q1RjKVILkVZ3MrIb0Ra7iO22JYKpUwDVMyFS5iAdhs29PQwAEXnk7cpf3Sfo542zh6uY1DF/dx6423dbuQpFQqEg7/IBgMEgj4SaVSGIa+F1CiuTC3NsH9yS5uD3m5M+yld+gCH1cGZU6YaD+SDjHtH2dyYZTxz8N8i8ySLaSa49lp2bFd4hmVrys+3vveMjYzgs8/RTwbbWlo6Ab9vl66nnVwdeA0nY9OcOVVBwF1roHhOjuAYmJCi1wuRyQSIRaLyXbEY21O2TSrXOs/y/Geg5y8cZhTN9s5dv0A04GxBqBj732HQgehk3Ax0d3T+7NG5LM/s/LC3bYHULQWj8clO7EFYq3+Zpqmoaoqq6urcjt2P+7fiXxuzKjCsT0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/d373bc28812490160a498d2e6a5b57f1/699b7/image-1.png\"\n        srcset=\"/static/d373bc28812490160a498d2e6a5b57f1/c26ae/image-1.png 158w,\n/static/d373bc28812490160a498d2e6a5b57f1/6bdcf/image-1.png 315w,\n/static/d373bc28812490160a498d2e6a5b57f1/699b7/image-1.png 596w\"\n        sizes=\"(max-width: 596px) 100vw, 596px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"정렬-제약\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A0%AC-%EC%A0%9C%EC%95%BD\" aria-label=\"정렬 제약 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>정렬 제약</h3>\n<p>이렇게 메모리를 한 번에 4바이트씩 접근하려고 하다보니 4의 배수 단위로 접근해서 갖고 오면 좋겠다. 그렇기 때문에 RISC-V에서는 정렬 제약을 두어서 항상 메모리를 저장할 때 바이트, 하프워드, 워드에 관계없이 무조건 <strong>주소를 4의 배수 단위</strong>로 끊어서 저장하도록 정했다.</p>\n<p>바이트와 워드가 섞여서 저장되어 있으면 값의 정확한 시작 주소를 알기 까다롭기 때문에 그렇다.</p>\n<p>나중에 명령어를 통해 메모리에 접근할 때 꼭 지켜야하는 규칙이다.</p>\n<blockquote>\n<p>MIPS는 Big endian이고, ARM은 두 방식 모두 지원한다.</p>\n</blockquote>\n<h2 id=\"1의-보수-2의-보수\" style=\"position:relative;\"><a href=\"#1%EC%9D%98-%EB%B3%B4%EC%88%98-2%EC%9D%98-%EB%B3%B4%EC%88%98\" aria-label=\"1의 보수 2의 보수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>1의 보수, 2의 보수</h2>\n<p>2진수 체계에서 음수를 표현하기위해서는 2의 보수를 사용하는데 2의 보수는 1의 보수에서 1을 더한 결과다.</p>\n<p>1의 보수는 단순히 2진수의 각 비트를 반전시킨 것이다. ex. <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>00101</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">{00101}_{(2)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">00101</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span></span></span></span></span> -> <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>11010</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">{11010}_{(2)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">11010</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>1의 보수로 표현된 값에 1을 더하면 2의 보수가 된다. ex. <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>11010</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">{11010}_{(2)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">11010</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span></span></span></span></span> -> <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>11011</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">{11011}_{(2)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">11011</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>00101</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">{00101}_{(2)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">00101</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span></span></span></span></span>은 10진수에서 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span></span></span></span></span>이고, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>11011</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">{11011}_{(2)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">11011</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span></span></span></span></span>은 10진수에서 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">-4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">−</span><span class=\"mord\">4</span></span></span></span></span>다.</p>\n<p>컴퓨터는 1의 보수 대신 2의 보수를 택했는데, 1의 보수는 0을 나타내는 값이 두 개나 존재하기 때문이다. <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>0000</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">{0000}_{(2)} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">0000</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>1111</mn><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></msub><mo>=</mo><mo>−</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">{1111}_{(2)} = -0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9996399999999999em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\">1111</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">2</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">−</span><span class=\"mord\">0</span></span></span></span></span></p>\n<p>2의 보수를 택함으로 레지스터가 나타내는 값의 범위는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mn>2147483648</mn><mo>∽</mo><mn>2147483647</mn></mrow><annotation encoding=\"application/x-tex\">-2147483648 \\backsim 2147483647</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">−</span><span class=\"mord\">2147483648</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel amsrm\">∽</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2147483647</span></span></span></span></span>이 되었다.</p>\n<h1 id=\"명령어-형식\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%ED%98%95%EC%8B%9D\" aria-label=\"명령어 형식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>명령어 형식</h1>\n<p>명령어 형식은 명령어의 종류마다 다르다. 그래서 자세한 형식에 대해서는 <a href=\"\">링크</a>에서 확인할 수 있다.</p>\n<p>연산 명령어(R-format)의 형식을 살펴보면 다음과 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eeaf39cd7f1c31797c96f7fb55badf23/0012b/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.924050632911392%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAApElEQVR42j2OwQqDMBBE/f8vswdFD7VUqYKJ2V0Tk6ZXlSluoQsPhpllmMI5wjzPIGLEGCHMYBGEEP6IiP4YY5Sc3/DeY9s2EDk452CtRYwJRdd1qOtaS1KMeHR3jNOk5eP4Un0V1lWFtmlhjAUzYRh6pJTQ90/cyhJN0yCEDUXOGc4tOI4D53moZmZc5/0Ku/yyVQSyevWv1dfifd8VIkLOH82+ESXewscJEdYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/eeaf39cd7f1c31797c96f7fb55badf23/f058b/image-2.png\"\n        srcset=\"/static/eeaf39cd7f1c31797c96f7fb55badf23/c26ae/image-2.png 158w,\n/static/eeaf39cd7f1c31797c96f7fb55badf23/6bdcf/image-2.png 315w,\n/static/eeaf39cd7f1c31797c96f7fb55badf23/f058b/image-2.png 630w,\n/static/eeaf39cd7f1c31797c96f7fb55badf23/0012b/image-2.png 661w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>명령어의 길이는 32비트인데, 32비트 프로세서라서 그렇다.</p>\n<p>주어진 명령어가 어떤 형식인지 알기 위해서는 <code class=\"language-text\">opcode</code>를 확인해야한다. LSB부터 7개의 비트가 <code class=\"language-text\">opcode</code>다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/df1e953820056499b891adb66fab9c91/d0c0e/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15.18987341772152%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA1klEQVR42iXHsU7CQACA4T6cz2BIGCQxkQETExYfyjg5qJEBQ2wLFBAL1+PaisddibT1AoT9N9Hpy+e1o5SGL7idZXQixdlrTDNI6E4V7ZHkOlJchAlXY8m5L2gNJa1QcjNRNANBw0+4HEk60Yrue46njyfS2hGvv1hsLNnhROb26B+H2lUES8FcG0SxRZY1sS1IqxqxsajaMTcFC1MwUSlrt8eL3ZG+LXlIcp5SzbA6EH47+qZkYHfczZY8Z5rep2FgS17yfx9Tzdu2+nsvN9x/rJiWjl9oXct/f+gSTgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/df1e953820056499b891adb66fab9c91/f058b/image-3.png\"\n        srcset=\"/static/df1e953820056499b891adb66fab9c91/c26ae/image-3.png 158w,\n/static/df1e953820056499b891adb66fab9c91/6bdcf/image-3.png 315w,\n/static/df1e953820056499b891adb66fab9c91/f058b/image-3.png 630w,\n/static/df1e953820056499b891adb66fab9c91/d0c0e/image-3.png 715w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위 사진에서 R-format 명령어는 opcode가 <code class=\"language-text\">0110011</code>이다.</p>\n<p>R-format임을 확인했으니 해당 형식에 맞춰 각 파라미터들을 해석한다.</p>\n<ul>\n<li><code class=\"language-text\">rd</code>: destination register</li>\n<li><code class=\"language-text\">rs1</code> : source register 1</li>\n<li><code class=\"language-text\">rs2</code>: source register 2</li>\n</ul>\n<p>명령어마다 각 파라미터들의 의미와 기능이 다르지만 R-format의 경우에는 <code class=\"language-text\">rs1</code> 레지스터에 들어있는 값과 <code class=\"language-text\">rs2</code> 레지스터에 들어있는 값을 연산하여 <code class=\"language-text\">rd</code> 레지스터에 저장한다.</p>\n<p>레지스터를 가리키는 파라미터는 32비트 즉 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>5</mn></msup></mrow><annotation encoding=\"application/x-tex\">2^5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span></span></span></span></span></span></span></span></span>개이므로 5비트만 차지한다.</p>\n<p>R-format에는 덧셈과 뺄셈이 있는데, 이를 구분하는 방법은 <code class=\"language-text\">func7</code>파라미터를 이용하면 된다.</p>\n<p>사진에서 뺄셈만 <code class=\"language-text\">func7</code>값이 <code class=\"language-text\">0100000</code>이니까, func7자리에 해당하는 비트들을 조사하면 된다.</p>\n<h1 id=\"명령어-종류\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A2%85%EB%A5%98\" aria-label=\"명령어 종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>명령어 종류</h1>\n<blockquote>\n<p>수업 때 배운 명령어들만 적었습니다.</p>\n</blockquote>\n<ul>\n<li><code class=\"language-text\">lw</code> : 메모리로부터 값을 불러와 레지스터에 저장한다.</li>\n<li><code class=\"language-text\">sw</code> : 레지스터에 들어있는 값을 메모리에 저장한다.</li>\n<li><code class=\"language-text\">add</code> : 두 레지스터가 갖는 값을 더하여 다른 레지스터에 저장한다.</li>\n<li><code class=\"language-text\">sub</code> : 두 레지스터가 갖는 값을 빼서 다른 레지스터에 저장한다.</li>\n<li><code class=\"language-text\">addi</code> : 한 레지스터에 들어있는 값과 주어진 상수값을 더해 저장한다.</li>\n<li><code class=\"language-text\">slli</code> : 레지스터에 들어있는 값을 주어진 상수값만큼 왼쪽으로 시프트(<code class=\"language-text\">&lt;&lt;</code>)한다.</li>\n<li><code class=\"language-text\">srli</code> : 레지스터에 들어있는 값을 주어진 상수값만큼 오른쪽으로 시프트(<code class=\"language-text\">>></code>)한다.</li>\n<li><code class=\"language-text\">beq</code> : 두 레지스터에 들어있는 값이 동일하다면 라벨로 표현된 주소로 이동하여 명령어를 실행한다.</li>\n<li><code class=\"language-text\">bne</code> : 두 레지스터에 들어있는 값이 다르다면 라벨로 표현된 주소로 이동하여 명령어를 실행한다.</li>\n</ul>\n<h2 id=\"분기-명령어\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EA%B8%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"분기 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>분기 명령어</h2>\n<p><code class=\"language-text\">beq</code>와 <code class=\"language-text\">bne</code>처럼, 분기명령어일 때 라벨로 표현된 주소로 이동한다는 것은 아래의 코드와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// x10에는 10이, x11에도 10이 들어있다고 하자. \n// x5는 메모리에 저장된 변수 N을 의미한다고 하자.\n\n      beq x10 x11 JUMP\n      addi x10 x10 15\nJUMP: sw x10 0(x5) // x5 레지스터가 갖는 주소값으로부터 \n                   // 0만큼 떨어진 위치에 값 저장   </code></pre></div>\n<p><code class=\"language-text\">x10</code>에 저장된 값이 10이고 <code class=\"language-text\">x11</code>에도 10이 저장되어 있으므로, 바로 아래의 <code class=\"language-text\">addi</code>코드를 실행하지 않고 <code class=\"language-text\">JUMP</code>로 분기하게 된다. 결과적으로 변수 N에는 25가 저장되지 않고, 10이 저장된다.</p>\n<h2 id=\"기본-블록\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EB%B8%94%EB%A1%9D\" aria-label=\"기본 블록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>기본 블록</h2>\n<p>분기가 없는 명령어 코드 단위를 블록이라고 한다. 컴파일러가 C 코드를 명령어 코드로 만들 때 이런 블록들을 최대한 생성하려고 노력하여 최적화를 한다고 한다.</p>\n<h1 id=\"명령어의-프로시저\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4%EC%9D%98-%ED%94%84%EB%A1%9C%EC%8B%9C%EC%A0%80\" aria-label=\"명령어의 프로시저 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>명령어의 프로시저</h1>\n<p>명령어 코드들을 실행하는 중간에 함수를 호출하여 뭔가를 얻으려고 할 때가 있다. 이를 프로시저라고 하는데, 프로시저를 호출하는 과정에는 몇가지 단계가 있다.</p>\n<ol start=\"0\">\n<li>프로시저가 끝나고 나서도 사용할 값들을 스택에 보관한다.</li>\n<li>파라미터 역할을 하는 레지스터에 값을 넣는다.</li>\n<li>프로시저에게 컨트롤 권한을 넘긴다.</li>\n<li>프로시저를 위해 스택 메모리를 확보한다.</li>\n<li>프로시저의 시작 주소로 분기하여 프로시저의 명령어를 실행한다.</li>\n<li>프로시저 내부에서 반환할 값은 반환으로 사용할 레지스터에 저장한다.</li>\n<li>사용한 스택 메모리를 반환하고 다시 프로시저의 호출 시점으로 돌아온다.</li>\n</ol>\n<p>프로시저의 명령어코드를 실행하려면 실행할 명령어의 주소로 분기하여야 한다(이동하여야 한다). <code class=\"language-text\">jal</code>과  <code class=\"language-text\">jalr</code> 명령어를 이용해 분기한다.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">jal</code></p>\n<p>프로시저를 실행하기 위해 프로시저가 시작되는 메모리 주소로 이동한다. 이때 인자값으로 프로시저의 라벨을 사용한다.</p>\n<p>ex. <code class=\"language-text\">jal x1 LOOP</code> 명령어를 실행하면 LOOP 라벨이 가리키는 명령어의 주소값을 x1에 저장하게 된다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">jalr</code></p>\n<p><code class=\"language-text\">jal</code>과 비슷하지만 x1에 저장된 메모리 주소에서 상수값만큼 떨어진 위치로 이동한다.</p>\n<p>ex. <code class=\"language-text\">jalr x0 0(x1)</code> 명령어를 실행하면, <code class=\"language-text\">x1</code>에서 0만큼 떨어진 위치 즉, x1에 저장된 명령어 주소로 이동한 후 명령어를 실행하게 된다.</p>\n<p><code class=\"language-text\">x0</code>은 아무 의미도 없지만 인자로 포함되어 있는데, 이유는 앞서 파라미터 개수를 3개로 한정시켰기 때문이다.</p>\n</li>\n</ul>\n<h2 id=\"스택\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%83%9D\" aria-label=\"스택 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>스택</h2>\n<p>프로시저를 호출하면 현재 레지스터에 있는 값중 필요한 것을 스택에 저장하여 프로시저가 레지스터를 사용할 수 있게 해야한다.</p>\n<h3 id=\"저장되는-레지스터값들\" style=\"position:relative;\"><a href=\"#%EC%A0%80%EC%9E%A5%EB%90%98%EB%8A%94-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0%EA%B0%92%EB%93%A4\" aria-label=\"저장되는 레지스터값들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>저장되는 레지스터값들</h3>\n<ul>\n<li>\n<p>return address</p>\n<p>프로시저를 호출하면 <code class=\"language-text\">x1</code>에 현재 명령어의 주소가 저장되고 프로시저로 흐름이 넘어가게 된다. 이 때 현재 x1에 들어있는 값은 현재 프로시저가 종료되면 돌아갈 주소이기 때문에 이 값을 항상 기억해야한다. 스택에 저장한 후 프로시저 종료시에 다시 불러와야한다.</p>\n</li>\n<li>\n<p>saved registers</p>\n<p>몇몇 레지스터의 값은 프로시저 내에서 사라지면 안되기 때문에 미리 값을 스택에 저장했다가 프로시저가 종료된 후 다시 불러와 사용한다.</p>\n</li>\n</ul>","frontmatter":{"title":"컴퓨터 구조론 (2) - 명령어 구조","date":"October 26, 2023","description":null,"tags":["computer-organization"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%84%A4%EA%B3%84-%EC%9B%90%EC%B9%99\">명령어 설계 원칙?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0\">레지스터</a></p>\n<ul>\n<li>\n<p><a href=\"#%EA%B0%81-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0%EC%9D%98-%EC%9A%A9%EB%8F%84\">각 레지스터의 용도</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%A0%91%EA%B7%BC\">메모리 접근</a></p>\n<ul>\n<li><a href=\"#endian\">endian</a></li>\n<li><a href=\"#%EC%A0%95%EB%A0%AC-%EC%A0%9C%EC%95%BD\">정렬 제약</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#1%EC%9D%98-%EB%B3%B4%EC%88%98-2%EC%9D%98-%EB%B3%B4%EC%88%98\">1의 보수, 2의 보수</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%ED%98%95%EC%8B%9D\">명령어 형식</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A2%85%EB%A5%98\">명령어 종류</a></p>\n<ul>\n<li><a href=\"#%EB%B6%84%EA%B8%B0-%EB%AA%85%EB%A0%B9%EC%96%B4\">분기 명령어</a></li>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8-%EB%B8%94%EB%A1%9D\">기본 블록</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4%EC%9D%98-%ED%94%84%EB%A1%9C%EC%8B%9C%EC%A0%80\">명령어의 프로시저</a></p>\n<ul>\n<li>\n<p><a href=\"#%EC%8A%A4%ED%83%9D\">스택</a></p>\n<ul>\n<li><a href=\"#%EC%A0%80%EC%9E%A5%EB%90%98%EB%8A%94-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0%EA%B0%92%EB%93%A4\">저장되는 레지스터값들</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/computer-organization/컴퓨터-구조론-(1)-컴퓨터-추상화-및-관련-기술/"},"frontmatter":{"title":"컴퓨터 구조론 (1) - 컴퓨터 추상화 및 관련 기술"}},"next":null},"pageContext":{"id":"421dac7a-e20a-5c2f-8050-1774f40ea06f","previousPostId":"4dd86b97-401e-5412-afc0-af3fe6a82db4","nextPostId":null}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}