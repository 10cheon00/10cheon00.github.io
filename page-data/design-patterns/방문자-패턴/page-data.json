{"componentChunkName":"component---src-templates-blog-post-js","path":"/design-patterns/방문자-패턴/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"7aaa37f0-8bd7-58a8-b697-326e3f2821c3","excerpt":"의도 객체 구조를 이루는 원소에 대해 수행할 연산을 표현한다. 연산을 적용할 원소의 클래스를 변경하지 않고도 새로운 연산을 정의할 수 있다. UML  방문자(Visitor) 인터페이스는 객체 즉, Element…","html":"<h1 id=\"의도\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EB%8F%84\" aria-label=\"의도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>의도</h1>\n<p>객체 구조를 이루는 원소에 대해 수행할 연산을 표현한다. 연산을 적용할 원소의 클래스를 변경하지 않고도 새로운 연산을 정의할 수 있다.</p>\n<h1 id=\"uml\" style=\"position:relative;\"><a href=\"#uml\" aria-label=\"uml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>UML</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a625c0d56daa982b5003b6f46712a414/e8950/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABy0lEQVR42p2TW6+iMBRG/f8/CaOZMcSgXIVwU1CkIoJQy6UjVC4zaRM8k2PmYdZL0+y9kr3ztbPn84kx7vt+oPR9P44jAEAQBADA5XIBAIQUAEAURayBMev7nhAy3YdhGMcxyzKBslqteJ7fbDY/KbZtj1+YDcPQdd34NxjjsizrusYY3+93jHHTNGzGr80zNuowDHmeZ1kWxzFCqCiKqqp+UZIkiaLoTMmyDGNMKHVdz6Y9RVFcLBYcx4mieKS4lCAIeJ5fLpccx6mq6rquaZqWZRmG8ZYPh4NhGJqmKYoiy7KmabIsS5IUhqFpmrquy7IsiuJ2u12v11vKW/4P3jv3FBYYq3VdRwiZqp/lcRwhhJIkKYqi63qe503TQAg1TeN5fr/fZ1kWRdH3UGbsIIRACB+PB4SwbVsW/u128zzPsiwIYVEUr9frs/wdQgjLNk3Tqqrqum7bdnpFH2RWQAi5rrvb7WRZPp/PZVk6jqOqqiRJuq4jhKbOD3KSJD8orusmSYIQEkVxPp8LguB5XhzH/5Lrug6CAACAMUYIYYzDMDydTmx+CCEL4i1PAwMArtfrhRIEgW3bCKE0Tdn3Oh6Pvu87juP7/h/5N1h9RjB9mYRHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/a625c0d56daa982b5003b6f46712a414/f058b/image.png\"\n        srcset=\"/static/a625c0d56daa982b5003b6f46712a414/c26ae/image.png 158w,\n/static/a625c0d56daa982b5003b6f46712a414/6bdcf/image.png 315w,\n/static/a625c0d56daa982b5003b6f46712a414/f058b/image.png 630w,\n/static/a625c0d56daa982b5003b6f46712a414/40601/image.png 945w,\n/static/a625c0d56daa982b5003b6f46712a414/78612/image.png 1260w,\n/static/a625c0d56daa982b5003b6f46712a414/e8950/image.png 2000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>방문자(Visitor) 인터페이스는 객체 즉, Element의 여러 서브 클래스들에 대해 방문할 때 수행할 메서드를 정의한다.</p>\n<p>Visitor를 상속한 서브 클래스들은 각 Element들을 순회하여 방문할 때 수행할 알고리즘을 구현한다.</p>\n<p>Element 인터페이스는 자신이 갖고 있는 하위 Element에 대해 Visitor에 정의된 알고리즘을 수행하기 위한 <code class=\"language-text\">Accept()</code> 메서드를 정의한다.</p>\n<p>Element 서브 클래스에서 <code class=\"language-text\">Accept()</code> 메서드를 구현한다. 이 때 방문자가 필요로 하는 메서드들을(<code class=\"language-text\">OperationA()</code>, <code class=\"language-text\">OperationB()</code> …) 제공한다.</p>\n<h2 id=\"사용-흐름\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%ED%9D%90%EB%A6%84\" aria-label=\"사용 흐름 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>사용 흐름</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a9d5d3cd8159048b5fa77f7c971d1cfd/e8950/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.50632911392405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABGUlEQVR42k2QYY/CIAxA/f8/0Tg30M4wijrZ2Mpoe+c4zb1PTcpLXjlcLpfj8Xg+nxERAJqmsdYuy5Jzvt1ubdsCQEpJP4iIc65tW2PMQVW998aYruvGcfTeD8Nw3XHO9X0PAOM48gcRUdXX61VKOZRSvPfMrKrbtvV9j4j3+x13AMA593w+53lOO4/HowaKyFsOIXyrEDGlxMzbzjRNRMTMZYeZEdEYAwBvmZmdc9ZaY0yMMYRARNXMOSNijHHaqUNKqZTyly0i3xc55xjjuq6llG3biMha2+8AQB1Op1PXdQCgqodaUr9BVdd1rfdXrtfrPM9EtCwLEeWcvfdN0xhj3rKIhBC+wn9ZRIZhIKIaUqnbaZp+s38AF4bG9rkZs0AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/a9d5d3cd8159048b5fa77f7c971d1cfd/f058b/image-1.png\"\n        srcset=\"/static/a9d5d3cd8159048b5fa77f7c971d1cfd/c26ae/image-1.png 158w,\n/static/a9d5d3cd8159048b5fa77f7c971d1cfd/6bdcf/image-1.png 315w,\n/static/a9d5d3cd8159048b5fa77f7c971d1cfd/f058b/image-1.png 630w,\n/static/a9d5d3cd8159048b5fa77f7c971d1cfd/40601/image-1.png 945w,\n/static/a9d5d3cd8159048b5fa77f7c971d1cfd/78612/image-1.png 1260w,\n/static/a9d5d3cd8159048b5fa77f7c971d1cfd/e8950/image-1.png 2000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>객체를 담고 있는 자료구조에게 방문자를 인자로 넘겨준다. 방문자에는 객체를 순회하는 방법이 구현되어 있다.</p>\n<p>방문자 인터페이스에 정의된 메서드(<code class=\"language-text\">VisitConcreteElementA()</code>)를 통해 방문자가 객체를 다룰 수 있게 인자로 넘겨준다. 이로써 방문자가 가지고 있는 알고리즘으로 객체를 다루게 된다. 즉, 객체 내에 알고리즘을 정의하지 않고 방문자 클래스로 알고리즘을 분리시키게 된다.</p>\n<h1 id=\"사용-시기\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%8B%9C%EA%B8%B0\" aria-label=\"사용 시기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>사용 시기</h1>\n<ul>\n<li>객체 구조를 정의한 클래스는 거의 변하지 않지만, 전체 구조에 걸쳐 새로운 연산을 추가하고 싶을 때.</li>\n<li>다른 인터페이스를 가진 클래스가 객체 구조에 포함되어 있으며, 서브 클래스에 따라 달라진 연산을 이들 클래스의 객체에 대해 수행하고자 할 때(?)</li>\n</ul>\n<h1 id=\"장점\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>장점</h1>\n<p>객체 구조를 다루는 메서드가 Visitor에 모두 정의되어 있으므로 새로운 알고리즘을 만들기 쉽다.</p>\n<p>방문자를 통해 관련된 알고리즘을 한 군데로 모아 관리하기 쉽다. 관련되지 않은 연산을 떼어내기 쉽다.(?)</p>\n<p>반복자는 한 종류의 타입에 대해서만 순회가 가능하지만, 방문자는 객체의 타입이 다를 때에도 순회가 가능하다.</p>\n<h1 id=\"단점\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>단점</h1>\n<p>새로운 객체 구조를 추가하기 쉽지 않다. 새로운 객체가 추가되었을 때 모든 Visitor의 서브 클래스들은 새로운 메서드를 정의해야 한다. <strong>Element 클래스 계통이 자주 변하지 않을 때에만</strong> 방문자 패턴이 유용하다.</p>\n<p>어떤 상황에서는 객체 내의 데이터를 읽어와야 하므로 데이터 은닉이 망가질 수 있다.</p>\n<h1 id=\"구현\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84\" aria-label=\"구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>구현</h1>\n<p>자산을 조사하여 총 가치를 구한다고 하자. 자산에는 유형 자산과 무형 자산이 있다. 쉽게 생각해서 금괴와 부동산만 자산으로 친다고 하자.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// 대충 금괴와 부동산을 클래스로 나타내면,</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">GoldBar</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _price<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> _price<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Estate</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _price<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> _price<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>예시로 든 금괴와 부동산 모두 자산이라는 카테고리에 들어가므로 자산 인터페이스를 제공하면 된다.</p>\n<p>이제 자산의 가치를 조사하는 방문자 객체를 만들어 사용자가 자산을 조사할 수 있도록 한다.</p>\n<p>방문자에 알고리즘을 구현하려면 Asset 객체를 사용할 수 있어야 하므로 <strong>인자로 전달받은 방문자에게 자기 자신을 인자로 전달해야 한다</strong>.\n여기서는 <code class=\"language-text\">Visit()</code>을 통해 방문자에게 전달하는 것으로 표현했다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// 자산 인터페이스</span>\n<span class=\"token comment\">// 가치(price)를 공통으로 가진다.</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Asset</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token comment\">// 인자로 전달된 방문자에게 자기 자신을 전달한다.</span>\n\t\t<span class=\"token comment\">// 방문자의 알고리즘을 실행할 때 데이터 객체가 필요하기 때문이다.</span>\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">Visit</span><span class=\"token punctuation\">(</span>Visitor<span class=\"token operator\">&amp;</span> visitor<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">int</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _price<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token comment\">// 생성자를 숨겨 추상 클래스임을 나타낸다.</span>\n\t\t<span class=\"token function\">Asset</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">_price</span><span class=\"token punctuation\">(</span>price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> _price<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">GoldBar</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Asset</span></span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token function\">GoldBar</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Asset</span><span class=\"token punctuation\">(</span>price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">Visit</span><span class=\"token punctuation\">(</span>Visitor<span class=\"token operator\">&amp;</span> visitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token comment\">// Asset 자신을 인자로 넘겨줘 방문자에서 알고리즘을 수행하도록 함.</span>\n\t\t\t\tvisitor<span class=\"token punctuation\">.</span><span class=\"token function\">VisitAsset</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\t\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Estate</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Asset</span></span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token function\">Estate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Asset</span><span class=\"token punctuation\">(</span>price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">Visit</span><span class=\"token punctuation\">(</span>Visitor<span class=\"token operator\">&amp;</span> visitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token comment\">// Asset 자신을 인자로 넘겨줘 방문자에서 알고리즘을 수행하도록 함.</span>\n\t\t\t\tvisitor<span class=\"token punctuation\">.</span><span class=\"token function\">VisitAsset</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>방문자는 Asset객체에게 전달되었을 때 알고리즘을 수행하는 메서드를 제공해야 한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Visitor</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">VisitAsset</span><span class=\"token punctuation\">(</span>Asset<span class=\"token operator\">&amp;</span> asset<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token function\">Visitor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PriceVisitor</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Visitor</span></span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token function\">PriceVisitor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t_totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token comment\">// 알고리즘.</span>\n\t\t<span class=\"token comment\">// 전달된 객체의 가치를 totalPrice에 더한다.</span>\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">VisitAsset</span><span class=\"token punctuation\">(</span>Asset<span class=\"token operator\">&amp;</span> asset<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t_totalPrice <span class=\"token operator\">+=</span> asset<span class=\"token punctuation\">.</span><span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">int</span> <span class=\"token function\">getTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _totalPrice<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> _totalPrice<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>실제 사용은 이렇게 한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">PriceVisitor priceVisitor<span class=\"token punctuation\">;</span>\n\nstd<span class=\"token double-colon punctuation\">::</span>list<span class=\"token operator\">&lt;</span>Asset<span class=\"token operator\">*</span><span class=\"token operator\">></span> assetList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> std<span class=\"token double-colon punctuation\">::</span><span class=\"token generic-function\"><span class=\"token function\">list</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Asset<span class=\"token operator\">*</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nassetList<span class=\"token operator\">-></span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">GoldBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nassetList<span class=\"token operator\">-></span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">Estate</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 자료구조에 들어있는 객체를 반복하는 코드는 </span>\n<span class=\"token comment\">// 1. 객체 구조가 담당할 수도 있고,</span>\n<span class=\"token comment\">// 2. 방문자 객체가 담당하거나,</span>\n<span class=\"token comment\">// 3. 반복자가 담당할 수도 있다.</span>\n<span class=\"token comment\">// 여기서는 반복자가 담당하는 코드로 구현했다.</span>\n\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span> iter <span class=\"token operator\">=</span> assetList<span class=\"token operator\">-></span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> iter <span class=\"token operator\">!=</span> assetList<span class=\"token operator\">-></span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> iter<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\titer<span class=\"token operator\">-></span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>priceVisitor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">// 각 asset 객체의 visit함수에는 인자로 받은 visitor에게 </span>\n\t\t<span class=\"token comment\">// 자기 자신을 넘겨 알고리즘을 수행하도록 하고 있다.</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"total price : %d\"</span><span class=\"token punctuation\">,</span> priceVisitor<span class=\"token punctuation\">.</span><span class=\"token function\">getTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// total price : 10100</span></code></pre></div>\n<h2 id=\"다른-타입이-추가된다면\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EB%A5%B8-%ED%83%80%EC%9E%85%EC%9D%B4-%EC%B6%94%EA%B0%80%EB%90%9C%EB%8B%A4%EB%A9%B4\" aria-label=\"다른 타입이 추가된다면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>다른 타입이 추가된다면?</h2>\n<p>새로운 데이터 객체가 추가된다면 방문자 패턴에게 좋지 않은 영향을 끼친다. 방문자 인터페이스에 새로운 메서드가 추가되었으므로 인터페이스를 상속하는 모든 방문자 객체가 그 메서드를 구현해야 한다. 여기서는 PriceVisitor밖에 없으므로 괜찮지만, 좋지 않은 상황이다.</p>\n<p>예시를 계속 이어나가 보자. 비트코인은 가치를 갖고 있다. 하지만 자산에 포함이 안된다고 하자.</p>\n<p>비트코인도 가치를 계산하는 알고리즘이 계산하도록 하고 싶다.</p>\n<blockquote>\n<p>비트코인을 잘 모르므로 자산에 포함이 안되는지는 명확히 모르지만 일단 예시를 들어봅니다.</p>\n</blockquote>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Bitcoin</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token function\">Bitcoin</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">_price</span><span class=\"token punctuation\">(</span>price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">int</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _price<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> _price<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>구현된 코드를 보면 비트코인은 Asset의 서브 클래스가 아니다.</p>\n<p>그러므로 Visitor 인터페이스에 새로운 메서드를 추가해야 한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Visitor</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">VisitAsset</span><span class=\"token punctuation\">(</span>Asset<span class=\"token operator\">&amp;</span> asset<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">VisitBitcoin</span><span class=\"token punctuation\">(</span>Bitcoin<span class=\"token operator\">&amp;</span> bitcoin<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token function\">Visitor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PriceVisitor</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Visitor</span></span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token function\">PriceVisitor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t_totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token comment\">// 알고리즘.</span>\n\t\t<span class=\"token comment\">// 전달된 객체의 가치를 totalPrice에 더한다.</span>\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">VisitAsset</span><span class=\"token punctuation\">(</span>Asset<span class=\"token operator\">&amp;</span> asset<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t_totalPrice <span class=\"token operator\">+=</span> asset<span class=\"token punctuation\">.</span><span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">VisitBitcoin</span><span class=\"token punctuation\">(</span>Bitcoin<span class=\"token operator\">&amp;</span> bitcoin<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t_totalPrice <span class=\"token operator\">+=</span> bitcoin<span class=\"token punctuation\">.</span><span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">int</span> <span class=\"token function\">getTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _totalPrice<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">int</span> _totalPrice<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>예시처럼 반복을 통해 총 가치를 구하는 코드를 구현했다면 전체 코드를 수정해야 한다. Bitcoin클래스는 Asset의 서브 클래스가 아니기 때문이다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">PriceVisitor priceVisitor<span class=\"token punctuation\">;</span>\n\nstd<span class=\"token double-colon punctuation\">::</span>list<span class=\"token operator\">&lt;</span>Asset<span class=\"token operator\">*</span><span class=\"token operator\">></span> assetList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> std<span class=\"token double-colon punctuation\">::</span><span class=\"token generic-function\"><span class=\"token function\">list</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Asset<span class=\"token operator\">*</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nassetList<span class=\"token operator\">-></span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">GoldBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nassetList<span class=\"token operator\">-></span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">Estate</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nBitcoin <span class=\"token function\">bitcoin</span><span class=\"token punctuation\">(</span><span class=\"token number\">2500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span> iter <span class=\"token operator\">=</span> assetList<span class=\"token operator\">-></span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> iter <span class=\"token operator\">!=</span> assetList<span class=\"token operator\">-></span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> iter<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\titer<span class=\"token operator\">-></span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>priceVisitor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 비트코인의 가치를 구한다.</span>\nbitcoin<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>priceVisitor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"total price : %d\"</span><span class=\"token punctuation\">,</span> priceVisitor<span class=\"token punctuation\">.</span><span class=\"token function\">getTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// total price : 12600</span></code></pre></div>","frontmatter":{"title":"방문자 패턴","date":"August 17, 2023","description":null,"tags":["design-pattern"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9D%98%EB%8F%84\">의도</a></p>\n</li>\n<li>\n<p><a href=\"#uml\">UML</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9-%ED%9D%90%EB%A6%84\">사용 흐름</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%82%AC%EC%9A%A9-%EC%8B%9C%EA%B8%B0\">사용 시기</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9E%A5%EC%A0%90\">장점</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8B%A8%EC%A0%90\">단점</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B5%AC%ED%98%84\">구현</a></p>\n<ul>\n<li><a href=\"#%EB%8B%A4%EB%A5%B8-%ED%83%80%EC%9E%85%EC%9D%B4-%EC%B6%94%EA%B0%80%EB%90%9C%EB%8B%A4%EB%A9%B4\">다른 타입이 추가된다면?</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/design-patterns/템플릿-메서드-패턴/"},"frontmatter":{"title":"템플릿 메서드 패턴","date":"August 15, 2023"}},"next":{"fields":{"slug":"/csharp/Array와-List/"},"frontmatter":{"title":"Array와 List","date":"August 21, 2023"}}},"pageContext":{"id":"7aaa37f0-8bd7-58a8-b697-326e3f2821c3","previousPostId":"03abcaa7-8ba2-5c6f-b094-2203fbe1b6ca","nextPostId":"ad9b4a5f-9cfd-582f-85ac-b7558bc19203"}},"staticQueryHashes":["1846574571","230163734","3589320610"],"slicesMap":{}}