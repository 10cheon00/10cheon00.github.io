{"componentChunkName":"component---src-templates-blog-post-js","path":"/design-patterns/퍼사드-패턴/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"481c5b0f-198d-58f7-b5bf-41cfd838fcbf","excerpt":"의도 한 서브 시스템 내의 인터페이스 집합에 대한 획일화된 하나의 인터페이스를 제공하는 패턴으로, 서브 시스템을 사용하기 쉽도록 상위 수준의 인터페이스를 정의한다. UML…","html":"<h1 id=\"의도\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EB%8F%84\" aria-label=\"의도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>의도</h1>\n<p>한 서브 시스템 내의 인터페이스 집합에 대한 획일화된 하나의 인터페이스를 제공하는 패턴으로, 서브 시스템을 사용하기 쉽도록 상위 수준의 인터페이스를 정의한다.</p>\n<h1 id=\"uml\" style=\"position:relative;\"><a href=\"#uml\" aria-label=\"uml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>UML</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/680b2d495aa2bb364da59031114fa2cf/129e9/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABCUlEQVR42m2SSY6DMBBFff9TcYRsWERinqeEKYEQCBW9ktxSq7ukksH+9QeDuV6v4vu+ZFmm/Xg8ZNs2WddVlmXRDoJAHMeRy+Uit9vt1xn9fD7l/X5LWZZi7ve7UOd5yn/FwDiOCu77Xo7j+IOxs03TiAGEwjzP2ihZB57nKRHPXdfJMAzyer1k33eZpknTMPP5fJQQjGnbVmNAzEae5zqIcxTpoijUJcQQYIAZMMxb10oIkErTVJVRZQ8SwIDiOFZHnHNGAgiTJFEB7pwCbyygruufGETABe+sxGSQu+IDIk4iHFqXYKqqEkNEQLjgzlzX1ZgIAGQFaAXDMFT33G0URfpnwAGG9QtUVhSBcC/eswAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/680b2d495aa2bb364da59031114fa2cf/f058b/image.png\"\n        srcset=\"/static/680b2d495aa2bb364da59031114fa2cf/c26ae/image.png 158w,\n/static/680b2d495aa2bb364da59031114fa2cf/6bdcf/image.png 315w,\n/static/680b2d495aa2bb364da59031114fa2cf/f058b/image.png 630w,\n/static/680b2d495aa2bb364da59031114fa2cf/40601/image.png 945w,\n/static/680b2d495aa2bb364da59031114fa2cf/129e9/image.png 1161w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>서브 시스템을 퍼사드 객체가 감싸 내부 구현을 감추어 버린다. 이로 인해 사용자는 내부 클래스를 모른 채 사용하여 잘못된 접근을 막을 수 있다.</p>\n<h1 id=\"사용-시기\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%8B%9C%EA%B8%B0\" aria-label=\"사용 시기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>사용 시기</h1>\n<ul>\n<li>복잡한 서브 시스템에 대해 단순한 인터페이스를 제공하려할 때. 실제로는 세세한 구현까지 알 필요없는 클래스나 인터페이스를 숨기기 위함이다.</li>\n<li>사용자와 클래스간 많은 종속성이 존재할 때. 빈번한 메소드 호출을 단순하게 만드는 대신 내부적으로 처리하도록 만든다.</li>\n<li>서브 시스템을 계층화할 때 퍼사드 패턴을 통해 접근하도록 만든다.</li>\n</ul>\n<h1 id=\"장점\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>장점</h1>\n<p>서브 시스템의 구성요소를 퍼사드 내부에 숨겨버리기 때문에 사용자로부터 보호할 수 있다.</p>\n<p>컴파일 의존성을 줄일 수 있다.(?)</p>\n<h1 id=\"단점\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>단점</h1>\n<p>단순하게 쓰려고 서브 시스템의 클래스들을 감추는 것인데, 응용을 위해 서브 시스템의 클래스를 활용해야한다면 퍼사드 패턴의 책임이 망가진다.</p>\n<h1 id=\"구현\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84\" aria-label=\"구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>구현</h1>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">oiling</span><span class=\"token punctuation\">(</span>Oil oil<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span>CarKey carKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">setGearToDrive</span><span class=\"token punctuation\">(</span>GearStatus gearStatus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">excelerate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>기름을 넣고 차키를 꽂아 시동을 건 뒤 기어를 드라이브에 놓은 후 엑셀을 밟아 차를 운전하는 시스템을 구성했다.</p>\n<p>사용자가 이 시스템을 사용하려면 아래처럼 구현해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">drive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Car<span class=\"token operator\">*</span> car <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">Car</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    car<span class=\"token punctuation\">.</span><span class=\"token function\">oiling</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">Oil</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    car<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span>inventory<span class=\"token operator\">-></span><span class=\"token function\">getMyCarKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    car<span class=\"token punctuation\">.</span><span class=\"token function\">setGearToDrive</span><span class=\"token punctuation\">(</span>GearStatus<span class=\"token double-colon punctuation\">::</span>DRIVE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    car<span class=\"token punctuation\">.</span><span class=\"token function\">excelerate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>“차를 운전한다”라는 개념안에 알 필요없는(사실은 다 해야하는 것이지만) 클래스들이 등장한다.</p>\n<p>따라서 퍼사드를 통해 차의 부품 클래스들을 숨기고 단순한 인터페이스만 제공하도록 할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">CarDriver</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">drive</span><span class=\"token punctuation\">(</span>CarKey carKey<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        _car <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">Car</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        _car<span class=\"token operator\">-></span><span class=\"token function\">oiling</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">Oil</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        _car<span class=\"token operator\">-></span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span>carKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        _car<span class=\"token operator\">-></span><span class=\"token function\">setGearToDrive</span><span class=\"token punctuation\">(</span>GearStatus<span class=\"token double-colon punctuation\">::</span>DRIVE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        _car<span class=\"token operator\">-></span><span class=\"token function\">excelerate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n    Car<span class=\"token operator\">*</span> _car<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이제 사용자는 CarKey만 갖고 있다면 CarDriver를 생성해서 운전을 할 수 있다.</p>\n<p>복잡한 과정을 거쳐 실행될 메소드에 사용자가 알 필요없는 클래스나 인터페이스가 있다면 퍼사드를 통해 실행하게 함으로써 사용자가 그런 클래스나 인터페이스를 모른 채 사용해도 되게 만든다.</p>\n<blockquote>\n<p>원래는 기어를 드라이브에 놓는 과정이나 기름을 주유하는 것도 사용자가 담당해야한다.\n이 때 사용자가 기름을 주유하도록 변경하게 되면 퍼사드 패턴의 책임이 망가지게 된다. 설계를 잘 해야 겠다.</p>\n</blockquote>","frontmatter":{"title":"퍼사드 패턴","date":"July 27, 2023","description":null,"tags":["design-pattern"]},"tableOfContents":"<ul>\n<li><a href=\"#%EC%9D%98%EB%8F%84\">의도</a></li>\n<li><a href=\"#uml\">UML</a></li>\n<li><a href=\"#%EC%82%AC%EC%9A%A9-%EC%8B%9C%EA%B8%B0\">사용 시기</a></li>\n<li><a href=\"#%EC%9E%A5%EC%A0%90\">장점</a></li>\n<li><a href=\"#%EB%8B%A8%EC%A0%90\">단점</a></li>\n<li><a href=\"#%EA%B5%AC%ED%98%84\">구현</a></li>\n</ul>"},"previous":{"fields":{"slug":"/design-patterns/데코레이터-패턴/"},"frontmatter":{"title":"데코레이터 패턴"}},"next":{"fields":{"slug":"/design-patterns/플라이웨이트-패턴/"},"frontmatter":{"title":"플라이웨이트 패턴"}}},"pageContext":{"id":"481c5b0f-198d-58f7-b5bf-41cfd838fcbf","previousPostId":"9736177a-6620-56e6-b72c-1b9f6cd672d0","nextPostId":"ec145db0-8c23-5c03-92b0-d15dfa8260d5"}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}