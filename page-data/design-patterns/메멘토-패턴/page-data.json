{"componentChunkName":"component---src-templates-blog-post-js","path":"/design-patterns/메멘토-패턴/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"255d3c31-0a85-5cbe-8d8c-d935b758799d","excerpt":"의도 캡슐화를 위배하지 않으면서 어떤 객체의 내부 상태를 잡아내고 실체화시켜두어 나중에 객체가 저장해둔 상태로 되돌아오도록 한다. UML  Originator는 현재 상태를 저장한 메멘토 객체를 생성하여 반환하고, 전달 받은 메멘토 객체로 현재 상태를 설정하게 된다. CareTaker…","html":"<h1 id=\"의도\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EB%8F%84\" aria-label=\"의도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>의도</h1>\n<p>캡슐화를 위배하지 않으면서 어떤 객체의 내부 상태를 잡아내고 실체화시켜두어 나중에 객체가 저장해둔 상태로 되돌아오도록 한다.</p>\n<h1 id=\"uml\" style=\"position:relative;\"><a href=\"#uml\" aria-label=\"uml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>UML</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/234c722f133c15cb16a2e2d78ae94d65/b6529/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.848101265822784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA50lEQVR42oVRa6eGYBDs//+ooiIlqYh0oTup6H7XvHbp/XAc5wxj2d1ndmcfIQgCKIoCiud5YlkWTNOEqqowjiPntm2D53kwDAO2bSOOY5RlCdM04bouU5IkhGEIgYREUYSmadB1HY7jIEkSZFmG4zjwPA+zKAqoqgpZllHXNV6s64qu6zg3DAME3/e56Z2W5zn6vudIgi9oI+qjHnpIoEE/IaRpyo+v62KBeZ6ZJEB2XzRNw1tT7U9BEtr3ne9F9yO7ZK9t22/urZOt+75/FfoK0u3ICpE+hyxFUcR8t6c8Hd2yLPyHD8rUv823gYJuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/234c722f133c15cb16a2e2d78ae94d65/f058b/image.png\"\n        srcset=\"/static/234c722f133c15cb16a2e2d78ae94d65/c26ae/image.png 158w,\n/static/234c722f133c15cb16a2e2d78ae94d65/6bdcf/image.png 315w,\n/static/234c722f133c15cb16a2e2d78ae94d65/f058b/image.png 630w,\n/static/234c722f133c15cb16a2e2d78ae94d65/40601/image.png 945w,\n/static/234c722f133c15cb16a2e2d78ae94d65/b6529/image.png 1049w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Originator는 현재 상태를 저장한 메멘토 객체를 생성하여 반환하고, 전달 받은 메멘토 객체로 현재 상태를 설정하게 된다.</p>\n<p>CareTaker는 Originator의 상태를 저장한 메멘토 객체를 전달 받아, 나중에 이전 상태를 불러와야 할 경우 <code class=\"language-text\">SetMemento()</code>에 메멘토 객체를 넘겨주어 Originator의 상태를 설정한다.</p>\n<h1 id=\"사용-흐름\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%ED%9D%90%EB%A6%84\" aria-label=\"사용 흐름 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>사용 흐름</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a793fc4a089e5230a0b8b91313ee3a41/cab8c/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVR42nWT16pCMRBF/f+P8dkXFduTL1Zs2D32XsC+L2sgMQp3YMjhTLL2lCSWzWaVz+eVTqc1Go2Evd9vW8/ns4rFojKZjFKplAqFgm63m8Ver5etg8FA8XjcGLlcTjF+LpdLTSYT9ft9dTod9Xo9TadTPZ9PO7Tb7QyO0OPxMJgTxdh3vV7t24Dj8Vi1Wk3ValXlclmtVsvgDtRoNCxWr9dVqVRUKpW02Ww8nIRms9kHGEWRHQ7LDb+JAQPcbrd1Op0MhrMHWLPZ/ACHw6HW67XvDZtC8H6/t8xwKiC74/Fo/y+Xi7rdrgl9AVEFAtC56+FisdBqtfKCLubEgbuB+pJJ/9dcltvt1gR/W+KMydNHD2T0iURCyWTSj59rxJWid9wApj6fz83d1QmBtOErQ8omE5ToJxsok5UecR8RwxE4HA62n3IR/RoKQBr8X0lAydDFQ3cPAIYHosi0fg+410DGZBO+kNDu97uP/wHzHEIxUWNnSAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/static/a793fc4a089e5230a0b8b91313ee3a41/f058b/image-1.png\"\n        srcset=\"/static/a793fc4a089e5230a0b8b91313ee3a41/c26ae/image-1.png 158w,\n/static/a793fc4a089e5230a0b8b91313ee3a41/6bdcf/image-1.png 315w,\n/static/a793fc4a089e5230a0b8b91313ee3a41/f058b/image-1.png 630w,\n/static/a793fc4a089e5230a0b8b91313ee3a41/cab8c/image-1.png 744w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>먼저 CareTaker가 Originator에게 현재 상태를 저장하라는 명령(<code class=\"language-text\">CreateMemento()</code>)을 내린다.</p>\n<p>Originator는 현재 상태를 저장하는 Memento객체를 생성하여 반환한다.</p>\n<p>이후 CareTaker가 특정 메멘토 객체에 저장된 상태로 되돌아가라는 명령(<code class=\"language-text\">SetMemento()</code>)을 내리면, Originator는 현재 상태를 전달된 메멘토 객체에 들어있는 상태로 설정하여 명령을 수행한다.</p>\n<h1 id=\"사용-시기\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%8B%9C%EA%B8%B0\" aria-label=\"사용 시기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>사용 시기</h1>\n<ul>\n<li>어떤 객체의 스냅샷을 저장한 후 나중에 그 상태로 되돌아 가야할 때</li>\n<li>객체의 내부 구현이 노출되지 않으면서 상태를 저장해야할 때</li>\n</ul>\n<h1 id=\"장점\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>장점</h1>\n<p>캡슐화를 유지할 수 있다. 복잡한 내부 상태를 다른 객체로 분리하여 캡슐화를 유지하게 된다.(?)</p>\n<p>Originator 클래스를 단순화할 수 있다. Originator는 현재 상태를 메멘토 객체에 저장하여 반환하고 전달된 메멘토 객체를 사용하여 현재 상태를 변경하기만 하면 된다.</p>\n<h1 id=\"단점\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>단점</h1>\n<p>상태를 저장해야 하므로 비용이 더 들 수 있다. 상태를 보호하는 비용과 상태 복구의 비용이 비싸다면, 메멘토 패턴은 적합하지 않다.</p>\n<p>어떤 상황에서는 Originator 외에 다른 클래스가 메멘토에 접근할 수도 있어, 캡슐화가 망가질 수 있다.</p>\n<p>보관자 객체는 메멘토 객체를 삭제해야하는 책임이 있다.</p>\n<h1 id=\"구현\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84\" aria-label=\"구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>구현</h1>\n<p>세이브 파일을 만든다고 하자. 세이브 파일은 메멘토로 볼 수 있다. 게임 도중에 저장하라는 명령이 전달되면, 게임의 상태를 저장하는 메멘토 객체를 생성한다. 그리고 게임을 시작하기 전에 세이브 파일을 불러와야 한다면 저장된 메멘토 객체를 불러와 게임의 상태를 변경한다.</p>\n<blockquote>\n<p>여기서 CareTaker 즉 메멘토 객체를 관리하는 주체는 파일 시스템이 되겠지만 어쨌든 메멘토 패턴으로 볼 수 있다.</p>\n</blockquote>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Game</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    SaveMemento<span class=\"token operator\">*</span> <span class=\"token function\">Save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token function\">SaveMemento</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">Load</span><span class=\"token punctuation\">(</span>SaveMemento<span class=\"token operator\">*</span> saveMemento<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 게임 데이터를 불러오는 작업.</span>\n        saveData <span class=\"token operator\">=</span> saveMemento<span class=\"token operator\">-></span><span class=\"token function\">GetState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n    SaveData<span class=\"token operator\">*</span> saveData<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SaveMemento</span><span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token function\">SaveMemento</span><span class=\"token punctuation\">(</span>Game<span class=\"token operator\">*</span> game<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 세이브 데이터를 생성하는 작업.</span>\n    <span class=\"token punctuation\">}</span>\n    SaveData<span class=\"token operator\">*</span> <span class=\"token function\">GetState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> saveData<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">SetState</span><span class=\"token punctuation\">(</span>SaveData<span class=\"token operator\">*</span> SaveData<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> saveData <span class=\"token operator\">=</span> saveData<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n    SaveData<span class=\"token operator\">*</span> saveData<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">FileSystem</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    SaveMemento<span class=\"token operator\">*</span> <span class=\"token function\">Open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 저장공간에 저장되어 있는 세이브 파일을 불러온다.</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">Store</span><span class=\"token punctuation\">(</span>SaveMemento<span class=\"token operator\">*</span> saveMemento<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 세이브 파일을 저장공간에 저장한다.</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>게임 중간에 세이브 파일을 저장하는 요청이 전달되면 SaveMemento 객체를 생성하여 FileSystem에게 전달한다. FileSystem은 세이브 파일 즉, 메멘토 객체를 저장하였다가 특정 시점이 되면 저장한 메멘토 객체를 반환하여 게임의 상태를 변경한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">FileSystem fileSystem<span class=\"token punctuation\">;</span>\nGame game<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 게임 중간에 세이브 명령 실행</span>\n<span class=\"token comment\">// -> 파일 시스템에 세이브 파일 저장</span>\nSaveMemento<span class=\"token operator\">*</span> saveMemento <span class=\"token operator\">=</span> game<span class=\"token punctuation\">.</span><span class=\"token function\">Save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfileSystem<span class=\"token punctuation\">.</span><span class=\"token function\">Store</span><span class=\"token punctuation\">(</span>saveMemento<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">//...</span>\n\n<span class=\"token comment\">// 저장되어 있는 세이브 파일 불러오기</span>\n<span class=\"token comment\">// -> 파일 시스템으로부터 세이브 파일 불러와 게임의 상태 변경</span>\nSaveMemento<span class=\"token operator\">*</span> saveMemento <span class=\"token operator\">=</span> fileSystem<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \ngame<span class=\"token punctuation\">.</span><span class=\"token function\">Load</span><span class=\"token punctuation\">(</span>saveMemento<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>여기에는 실제 데이터인 <code class=\"language-text\">SaveData</code>는 드러나지 않는다. 이렇게 메멘토 패턴을 사용하면 실제 데이터가 노출되지 않는 장점이 있다.</p>\n<p>하지만 FileSystem이 세이브 파일을 저장 공간에 저장해야하는데, 이 과정에 드는 비용이 높을 수 있으므로 설계할 때 주의해야한다.</p>","frontmatter":{"title":"메멘토 패턴","date":"August 07, 2023","description":null,"tags":["design-pattern"]},"tableOfContents":"<ul>\n<li><a href=\"#%EC%9D%98%EB%8F%84\">의도</a></li>\n<li><a href=\"#uml\">UML</a></li>\n<li><a href=\"#%EC%82%AC%EC%9A%A9-%ED%9D%90%EB%A6%84\">사용 흐름</a></li>\n<li><a href=\"#%EC%82%AC%EC%9A%A9-%EC%8B%9C%EA%B8%B0\">사용 시기</a></li>\n<li><a href=\"#%EC%9E%A5%EC%A0%90\">장점</a></li>\n<li><a href=\"#%EB%8B%A8%EC%A0%90\">단점</a></li>\n<li><a href=\"#%EA%B5%AC%ED%98%84\">구현</a></li>\n</ul>"},"previous":{"fields":{"slug":"/design-patterns/중재자-패턴/"},"frontmatter":{"title":"중재자 패턴","date":"August 06, 2023"}},"next":{"fields":{"slug":"/design-patterns/옵저버-패턴/"},"frontmatter":{"title":"옵저버 패턴","date":"August 08, 2023"}}},"pageContext":{"id":"255d3c31-0a85-5cbe-8d8c-d935b758799d","previousPostId":"34ab5753-c2ed-59ba-942b-724ef2338312","nextPostId":"00c82480-9188-54f0-9c88-cbedb7eb10c9"}},"staticQueryHashes":["1846574571","230163734","3589320610"],"slicesMap":{}}