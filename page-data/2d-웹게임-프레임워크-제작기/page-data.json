{"componentChunkName":"component---src-templates-blog-post-js","path":"/2d-웹게임-프레임워크-제작기/","result":{"data":{"site":{"siteMetadata":{"title":"10cheon00의 Archive"}},"markdownRemark":{"id":"0a8e4b3a-8c85-538a-8805-9408df7229c8","excerpt":"…","html":"<h1 id=\"수강신청\" style=\"position:relative;\"><a href=\"#%EC%88%98%EA%B0%95%EC%8B%A0%EC%B2%AD\" aria-label=\"수강신청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>수강신청</h1>\n<p>강의평에는 학점 퍼주는 강의라고 되어 있어서 기회가 되면 들어야지 했는데 모종의 이유로 수강신청에 성공했다.</p>\n<blockquote>\n<p>수업과에서 여석을 풀어주는 날짜를 착각하여(...) 수강신청에 성공했다.\n안그래도 컴공과 학생들이 여석없다고 난리를 치는데 이런 실수를 하면 어쩌나 싶다.</p>\n</blockquote>\n<h1 id=\"팀-프로젝트\" style=\"position:relative;\"><a href=\"#%ED%8C%80-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8\" aria-label=\"팀 프로젝트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>팀 프로젝트?</h1>\n<p>코로나 시기엔 비대면 강의였기 때문에 팀프로젝트도 없고 시험 잘보면 끝이라고 했었는데 웬걸, 올해부터 대면 강의로 바뀌어 교수님께서 과제 및 팀프로젝트가 평가 항목에 들어간다고 하셨다.</p>\n<p>작년에 스타크래프트 클랜을 위해 제작했었던 전적 검색기를 만들었던 경험이 있기 때문에 별 걱정은 안했었다. 단지 조원들이 깃허브를 써본 적이 없어서 협업이 잘 될까 고민이었다.</p>\n<p>조원분들과 얘기를 통해 뭘 만들지 생각했는데 게임을 만들자는 의견은 있었지만 마땅한 기획이 없어 쉬운걸 만들자는 결론을 내렸다. 지뢰찾기는 너무 식상하니까 이미 있는 게임을 카피하자고 하여 바운스볼을 제작하기로 했다.</p>\n<p>그런데 바운스볼은 <strong>물리 엔진</strong>이 들어가는 게임이다. 조원분들은 쉽게 생각하는 것 같았지만 나는 이걸 만들려면 기반이 될 프레임워크가 필요하다고 생각했다.</p>\n<p>물론 이미 오픈소스나 다른 상용 라이브러리가 있기 때문에 이걸 활용하면 OK다. 이것저것 가져다 쓰면 <strong>개발</strong>은 빨리 되겠지만 나는 게임 개발을 위해서 직접 <strong>개발</strong>하기로 했다.</p>\n<h1 id=\"프레임워크-제작\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A0%9C%EC%9E%91\" aria-label=\"프레임워크 제작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>프레임워크 제작</h1>\n<h2 id=\"순수-js\" style=\"position:relative;\"><a href=\"#%EC%88%9C%EC%88%98-js\" aria-label=\"순수 js permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>순수 JS</h2>\n<p>기왕 만들거면 다른 라이브러리를 하나도 쓰지 않고 하나부터 열까지 순수한 JS로 구현하자는(...) 독기를 품었다. 이 때 중간고사 기간이 겹쳐 있어서 조원분들과 협업하지않고 따로 개발했다.</p>\n<p>프레임워크를 만져본 경험이 없었다면 하다가 포기하고 상용 프레임워크로 넘어갔을 것이다. 나는 고등학교 때 동아리 활동을 하면서 선배들이 제작한 프레임워크를 만져봤었고 유니티 엔진도 잠깐 공부하면서 얻은 지식이 있었기 때문에 포기하지 않았다.</p>\n<h2 id=\"dom-tree\" style=\"position:relative;\"><a href=\"#dom-tree\" aria-label=\"dom tree permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>DOM tree?</h2>\n<p>게임의 등장할 모든 오브젝트의 최상위 객체는 <code class=\"language-text\">GameObject</code>다. <code class=\"language-text\">Sprite</code>, <code class=\"language-text\">Text</code>, <code class=\"language-text\">Rect</code> 등 모든 오브젝트는 <code class=\"language-text\">GameObject</code>를 상속받아 구현된다.</p>\n<p>유니티에서는 <code class=\"language-text\">GameObject</code>간에 <strong>계층 시스템</strong>이 있는데, 내가 개발할 프레임워크에도 계층 시스템을 구현하려고 했었다. 게다가 페이지에 렌더링이 되어야 하므로, 두 가지 책임을 한 번에 해결할 수 있는 DOM Tree를 활용하기로 했다.</p>\n<p>하지만 새로운 오브젝트를 만들려면 실제로 HTML Element를 생성한 후에 <code class=\"language-text\">document</code>에 추가해야하고, 오브젝트의 색깔이나 크기를 변경하려면 css를 다뤄야 하므로 유지보수에 있어 불편함을 겪었다.</p>\n<p>고민에 고민을 한 끝에 이 문제를 한 번에 해결하기 위해서는 싹 갈아 엎어야 함을 깨달았다. 부모 오브젝트를 지울 때 자식 오브젝트들도 모두 지워야하는데, 이 때 HTML Element에 대해 너무 많은 처리를 요구했다.</p>\n<p>게다가 부모의 <code class=\"language-text\">position</code>, <code class=\"language-text\">rotation</code>, <code class=\"language-text\">scale</code>값이 자식에게도 전파되어야 하는데, 변수에 저장되어 있는 값이 렌더링을 위해 style에도 저장된다면 중복되어 저장되는 것인데, 이게 마음에 들지 않았다.</p>\n<h2 id=\"canvas\" style=\"position:relative;\"><a href=\"#canvas\" aria-label=\"canvas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Canvas</h2>\n<p>렌더링 부분을 시스템에서 분리시키기 위해 <code class=\"language-text\">&lt;canvas></code>를 활용하여야 했고 이를 위해서는 렌더링 파이프라인도 구성해야했다.</p>\n<p>렌더링 파이프라인이라고 했지만 셰이더나 다른 그래픽에 관한 처리를 하는건 내가 잘 알지 못해 하지 않았다. 단순히 <code class=\"language-text\">&lt;canvas></code>를 사용할 때 필요한 메소드의 순서를 정하는 것이 전부다.</p>\n<p>이렇게 DOM Tree에서 <code class=\"language-text\">&lt;canvas></code>로 변경하여 렌더링과 계층 시스템을 분리하니 확장성이 더 좋아졌다.</p>\n<h2 id=\"물리-엔진\" style=\"position:relative;\"><a href=\"#%EB%AC%BC%EB%A6%AC-%EC%97%94%EC%A7%84\" aria-label=\"물리 엔진 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>물리 엔진</h2>\n<p>바운스볼을 제작하기 위해서는 물리 엔진을 무조건 만들어야 했다. 공이 중력을 받아 떨어져야 하고 벽에 부딪치면 튀어 올라와야 하기 때문이다.</p>\n<p>하지만 물리 엔진을 만들어본 경험은 없어서 이 부분은 순전히 다른 오픈소스를 참고해야했다.</p>\n<p>역시나 누가 이미 <a href=\"https://gamedevelopment.tutsplus.com/series/how-to-create-a-custom-physics-engine--gamedev-12715\">🔗문서</a>로 정리했었다.</p>\n<blockquote>\n<p>이 블로그도 좋지만 몇몇 부분은 오타가 있어 <a href=\"https://kareus.tistory.com/15\">🔗이 블로그</a>를 참고하여 해결했다.</p>\n</blockquote>\n<p>구글링을 통해 교차 검증하여 물리 엔진을 완전히 만드는데 2주나 걸렸다. 수학적인 계산을 필요로 하는데, 그 부분을 이해하는데 시간이 많이 걸렸다.</p>\n<p>테스트를 위해 원 오브젝트를 100개 생성했을 때에도 60프레임을 유지하여 꽤 잘 만들었다고 생각했었다.</p>\n<h2 id=\"협업\" style=\"position:relative;\"><a href=\"#%ED%98%91%EC%97%85\" aria-label=\"협업 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>협업</h2>\n<p>얼추 프레임워크를 완성하고나니 중간고사 기간이 좀 지나가 있어서 약간 늦게 협업을 시작했다. 물리 엔진을 개발하느라 늦은 면도 있지만 <a href=\"https://github.com/23-web-teamproject/web-game-engine-tutorial\">🔗튜토리얼</a>과 <a href=\"https://23-web-teamproject.github.io/web-game-engine-docs\">🔗문서</a>를 제작하느라 늦었다. 나 혼자 만들었기 때문에 나만 이해하고 있었다. 그래서 조원분들이 프레임워크에 대해 이해를 할 수 있도록 튜토리얼과 문서 페이지를 제작했다.</p>\n<p>다행히도 그 덕분에 조원분들이 빠르게 이해하고 작업을 시작할 수 있었다.</p>\n<p>하지만 조원분들이 깃허브 사용법을 잘 몰라서 어쩔 수 없이 데스크톱 프로그램을 사용했다. 모든 절차에 대해서 설명을 해야했지만 오히려 각 기능에 대해 다시 이해하는 시간이 되어 좋았다. 그리고 기능별로 브랜치를 나누어 작업한 후 병합하는 작업도 해보니 꽤 재밌었던 것 같다.</p>\n<h2 id=\"최적화\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>최적화</h2>\n<p>스테이지를 구성하기 위해 씬에 오브젝트를 많이 배치하게 되었는데 물리 엔진을 돌리다보니 15프레임까지 떨어지는 문제가 발생했다.</p>\n<p>브라우저의 성능 측정 도구로 확인해보니 <code class=\"language-text\">SetInterval</code>로 실행된 함수가 끝나지 않고 다음 프레임에도 실행되고 있어서 프레임이 현저하게 낮아졌던 것이었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 416px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ed5ff2d3a8d824846999000e864bc9c/b0122/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEUElEQVR42lWU3U8UZxTG95r2sje96H6wO+/Mzsw7M7swsJ/AgiwsoCAFLC4EK/IhsoVYrEjwAxEVsaDRmNik29ZoRYkuEpua9KJ/2q+Z2dKkF0/Oec7zvs973otzApXKd6xfv8XMdB/l8QyrP4yzsrJMuTzFwsIiGxu3mZ9foFyeZG1tndXVNabKZZbnB9m6McPKpdNMjI9z5coq166tEajVatRqR7x9NcP+i1Fevxih9r7K4eFH6tohh4cf/OjzD0ccvnnFQXWWg19nOahOU9t/Se3wyD8TCAaDeAiFIgSDYYLBEKGQh3q9roXq+VfHPEw4GCEcDBMJRQke68EggVgshuJBUfByD6qqommaj+Pci8fwuFBVhCpQNfV/WkBKiZQmjmPhODZSGkQbI0QiYcKhII2RMNFoI42NYT/36n4Mh2hsjNS1/2phAuWJKS7MVRg7e47RbyYZHpugrbNId7FE38mvybafINfWRb7QQ1tnD4XOLnr7hyiWBsnkOsl3dPtavlCk0FUkMNyX4vnWKNsr3exeH2Or4rJUllSme6luj7NztcTTzTJbi83cnJX0nUjxcLWfn+6e4ce1UzxaH+LORcm18xbTZzoJ9BWivN5xeL2X5cU9i5+ufs7Vyc+4OKmz/9Dm990s1Y0oT79vYG+pAUf/kp0VnbePs7x84PJs9QuerTSwNdfAxGCEQN9okurfwzystXHvTYq9j1ku77ZybjnP878GePA+w+5hnr2jPNsHeZxmjc2f+3n6qYudWp69Dx08+iPPzWqKkQsugY4BnWefhtjeL3G9mmLnXYHl7SKlMZdbv6W5Uc3z5GiEx0d93PylH9ORLO9k2XqTYfd9P8//nGDnXQdXnuQ4MdpKoLVdZ+l+C5U7rSxuZlm8neFsxSVfsplba2Z+3aVyN83S/VYurLsYjsroTJLKlsvChsvcDZfLOykWNtN0n00QsNw4p2Zb6T/fRF85T2m8nc4Rh2TGZPBbl1PTzfRPpTldSTEw56CZgu7hJEOXmjk559JbbmFoIc3QpRSZAYuAtAWFkk26RyeXayLX3kq6qGM26WQKkrYeSbrdId9rkxtUUaWgJW+SL+q0FCXZNotsKUmhJEnkbAJCqFgJSSJjY+pNWMkkslliJHUMI4Fs0rGaLeyUg5Mz0AwVw7IwpMR0DQxpk0wncFoktut4oyeIxyUy2YxuJDFsF2lamLZANSxUU8N0bfSEgyUtDFUjLpJocYkhLTTDQeoOMmEjrQSBWDTqz6VhmmiahR5vQtcM9HgcoXqI+V0o3uyKKKpQUIVEEao/x3rcRhUJpNeMKo+XgyAubISi+68LYaIqus89XRMJlJi3PKJ+VIVJTBGoMY242oQqbP+eosTrhh6EiKN4JsJCKHFiSsw/UN8+EkURvmEspiCEjqKodVPV9u8oioGiaMeGUYTQ6oaKWTf0V5pWf+xffgzPrK5F699XdJSY5nf4D4XgszHZyJPSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"profiling\"\n        title=\"\"\n        src=\"/static/2ed5ff2d3a8d824846999000e864bc9c/b0122/image.png\"\n        srcset=\"/static/2ed5ff2d3a8d824846999000e864bc9c/c26ae/image.png 158w,\n/static/2ed5ff2d3a8d824846999000e864bc9c/6bdcf/image.png 315w,\n/static/2ed5ff2d3a8d824846999000e864bc9c/b0122/image.png 416w\"\n        sizes=\"(max-width: 416px) 100vw, 416px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>사진에서 상단의 노란색 막대기가 밀린 프레임을 의미한다.</p>\n</blockquote>\n<p>불필요한 코드가 실행되고 있던 것도 아니어서 알고리즘에 의한 최적화가 필요했다. 이 문제 또한 구글링을 통해 <code class=\"language-text\">Sweep And Prune</code> 알고리즘을 알아내어 구현했다.</p>\n<h3 id=\"worker\" style=\"position:relative;\"><a href=\"#worker\" aria-label=\"worker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Worker</h3>\n<p>싱글 스레드에서 모든 코드들이 돌아가고 있어서 이런 문제가 발생했던 것 같다. 이 때까지만 해도 별도의 스레드를 만들 수 있는줄 몰랐다.</p>\n<p>강의 마지막 주차 쯤 되어서 <code class=\"language-text\">Worker</code>를 알게 되었는데, 별도의 스레드에 올려서 물리 엔진을 돌리면 되겠다고 생각했다.</p>\n<blockquote>\n<p>프로젝트가 무거웠으면 이렇게 해야했지만 바운스볼은 가벼운 게임이어서 그렇게 하지 않아도 되었다...</p>\n</blockquote>\n<h1 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>마무리</h1>\n<p>프레임워크를 직접 제작했기 때문인지 마감 날짜보다 이틀이나 빠르게 끝내게 되었다. github.io를 이용해 배포하려고 했지만 정적 페이지를 제대로 인식하지 못해 배포를 해도 제대로 보여지지 않았다. 어쩔 수 없이 Netlify에 직접 리포지토리를 연결했다. Github Action에 대한 이해가 부족해서 이랬던 것 같다.</p>\n<p><a href=\"https://github.com/10cheon00/web-game-engine\">완성된 2d 웹프레임워크</a></p>\n<blockquote>\n<p>기말고사를 약간 못 본 것 같아서 A+이 나오지 않을까봐 불안했었지만 다행히 강의평에 올라와있던 내용대로 학점을 잘 주시는 교수님이셨다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 343px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3f0ac2ede72e5fc3f485f6d00c70bc2f/41431/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10.759493670886075%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAcUlEQVR42mXJwQ6CIACAYd//2brUWstimsKEUlAQwenhb/Pq4Tt9hetLanFByxtde0WrO3tWbEmerLFhME/y3BwWXzNZcQijIIWGYrIVRj1wP0FvXgzfN3vWbKk7WaM6PkdFnhUptITxg3c13lYsXvIHSNqWB126pwMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"grade\"\n        title=\"\"\n        src=\"/static/3f0ac2ede72e5fc3f485f6d00c70bc2f/41431/image-1.png\"\n        srcset=\"/static/3f0ac2ede72e5fc3f485f6d00c70bc2f/c26ae/image-1.png 158w,\n/static/3f0ac2ede72e5fc3f485f6d00c70bc2f/6bdcf/image-1.png 315w,\n/static/3f0ac2ede72e5fc3f485f6d00c70bc2f/41431/image-1.png 343w\"\n        sizes=\"(max-width: 343px) 100vw, 343px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</blockquote>","frontmatter":{"title":"2D 웹 게임 프레임워크 제작기","date":"July 08, 2023","description":"대학교 웹프로그래밍 수업 팀프로젝트로 바운스볼을 만들기 위해 게임 프레임워크를 제작했었던 경험입니다.","tags":["js","university"]}},"previous":{"fields":{"slug":"/Gatsby-사이트-구축기/"},"frontmatter":{"title":"Gatsby 사이트 구축기"}},"next":{"fields":{"slug":"/haleygg-사이트-제작기/"},"frontmatter":{"title":"Haleygg 사이트 제작기"}}},"pageContext":{"id":"0a8e4b3a-8c85-538a-8805-9408df7229c8","previousPostId":"0ccbb05f-ac8c-5416-b9e4-d8c5ebb45413","nextPostId":"1a47f99f-117d-57eb-a8ee-f6c3ada7a76f"}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}